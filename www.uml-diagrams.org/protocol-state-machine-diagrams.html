<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="author" content="Kirill Fakhroutdinov" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="distribution" content="Global" />
<link rel="stylesheet" type="text/css" media="only screen and (min-width: 768px)" href="https://www.uml-diagrams.org/css/style_1024.css" />
<link rel="stylesheet" type="text/css" media="only screen and (max-width: 767px)" href="https://www.uml-diagrams.org/css/style_767_160929.css" />
<link rel="stylesheet" type="text/css" media="only print" href="https://www.uml-diagrams.org/css/style_print_160717.css" />
<link rel="shortcut icon" href="https://www.uml-diagrams.org/favicon.ico" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-15407117-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-15407117-3');
</script>
<!-- end google -->
<script>
/*
 Mobile menu - when the user clicks on the button, 
 toggle between hiding and showing the dropdown
*/
var menuVisible = false;

function mobile_menu()
{
  if (menuVisible)
  {
	document.getElementById("navigation_btn").innerHTML = "Menu \u25BA";
    document.getElementById("navigation_dsk").style.display = "none";
    menuVisible = false;
  }
  else
  {
	document.getElementById("navigation_btn").innerHTML = "Menu \u25BC";
    document.getElementById("navigation_dsk").style.display = "block";
    document.getElementById("navigation_list").style.display = "block";
    menuVisible = true;
  }
}
</script>
<meta name="description" content="UML protocol state machine diagrams are used to show usage protocol or a lifecycle of a classifier, which operations of the classifier may be called in each state of the classifier and under which specific conditions." />
<meta name="keywords" content="UML, 2.5, diagrams, protocol, state machine" />
<title>UML protocol state machine diagrams overview, show usage protocol or a lifecycle of a classifier, operations of the classifier called in each state of the classifier and under which specific conditions.</title>
</head>
<body>
<header>

<div>
<div class="adsense">
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Responsive Ad -->
<ins class="adsbygoogle responsive_ad"
     style="display:block"
     data-ad-client="ca-pub-5002105358288202"
     data-ad-slot="7631821835"
     data-ad-format="horizontal" >
</ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div class="hosting-box">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-5002105358288202";
/* Half Banner 234 x 60 */
google_ad_slot = "0061943500";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

<div class="search-box">
<form action="https://www.uml-diagrams.org/search-results.html" id="cse-search-box">
 <div>
  <input type="hidden" name="cx" value="partner-pub-5002105358288202:d0i84p-o4pn" />
  <input type="hidden" name="cof" value="FORID:10" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" size="25" />
  <input type="image" class="search-box-image" src="https://www.uml-diagrams.org/images/search-button.png" alt="Search"  />    
 </div>    
<script type="text/javascript" src="https://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script>
</form>
</div>

<div style="clear:both;">
</div>

</div><div class="mainmenu">
<button id="navigation_btn" class="box-shadow-menu" onclick="mobile_menu()">Menu&nbsp;&#9658;</button>
<nav id="navigation_dsk" >
<ul id="navigation_list" class="navig_items">
<li>
<a href="https://www.uml-diagrams.org/" title="UML graphical notation overview, examples, and reference." >UML diagrams</a>
</li>
<li>
<a href="https://www.uml-diagrams.org/state-machine-diagrams.html"
 title="UML state machine diagrams - overview of graphical notation"  >State machine diagrams</a>
</li>
<li>
<a href="https://www.uml-diagrams.org/protocol-state-machine-diagrams.html"
 title="UML protocol state machine diagrams - overview of graphical notation" class="active-nav" >Protocol state machines</a>
</li>
<li>
<a href="https://www.uml-diagrams.org/state-machine-diagrams-reference.html"
 title="UML state machine diagrams reference"  >Reference</a>
</li>
<li>
<a href="https://www.uml-diagrams.org/state-machine-diagrams-examples.html"
 title="Examples of UML state machine diagrams"  >State machine examples</a>
</li>
<li>
<a href="https://www.uml-diagrams.org/index-references.html" title="Index of UML Elements">UML Index</a>
</li>
</ul> 
</nav>
</div>
</header>
<main>
<article id="mainContent">
<h1>UML Protocol State Machine Diagrams</h1>

<p>
UML protocol state machine diagrams are used to express
 a <strong>usage protocol</strong> or a <strong>lifecycle</strong>
 of some <a href="https://www.uml-diagrams.org/classifier.html" class="ref-link">classifier</a>.
 It shows which operations of the classifier may be called in each state of the classifier,
 under which specific conditions, and satisfying some optional postconditions 
 after the classifier transitions to a target state.
</p>

<p>
Because these diagrams show lifecycle, they are useful to show different stable states
 of a class of objects which could exist for some time, and to explain how objects could change
 their states over the time.
 For example, we can show how User Account could be created, activated, suspended, and cancelled.
</p>

<p>
Major elements of the protocol state machine diagram are 
 <a href="https://www.uml-diagrams.org/protocol-state-machine-diagrams.html#protocol-state" class="ref-link">protocol state</a>,
 <a href="https://www.uml-diagrams.org/protocol-state-machine-diagrams.html#protocol-transition" class="ref-link">protocol transition</a>,
 and different <a href="https://www.uml-diagrams.org/state-machine-diagrams.html#pseudostate" class="ref-link">pseudostates</a>,
 as shown on the overview diagram below.
</p>

<div class="figure-left-120">
<img src="https://www.uml-diagrams.org/state-machine-diagrams/protocol-state-machine-diagram-overview.png" width="700" height="686"
 alt="UML protocol state machine diagram overview, major elements." 
 title="UML protocol state machine diagram overview, major elements." />
<p class="figure-text">
Protocol state machine diagram overview.
</p>
</div>

<p>
Protocol state machine diagram is virtually synonym of the
 <a href="https://www.uml-diagrams.org/protocol-state-machine-diagrams.html#protocol-state-machine" class="ref-link">protocol state machine</a>
 as one diagram usually shows one protocol machine.
</p>


<!--
***********************
 Protocol State Machine
***********************
-->

<h2 id="protocol-state-machine">Protocol State Machine</h2>

<p>
<strong>Protocol state machine</strong> is a specialization of
 <a href="https://www.uml-diagrams.org/state-machine-diagrams.html#behavioral-state-machine" class="ref-link">behavioral state machine</a>
 and is used to express <strong>usage protocol</strong> or <strong>lifecycle</strong>
 of a <a href="https://www.uml-diagrams.org/classifier.html" class="ref-link">classifier</a>.
 It specifies which operations of the classifier can be called in which state and under which condition,
 thus specifying the allowed call sequences on the classifierâ€™s operations.  
Protocol state machines express the legal transitions that a classifier can trigger.
</p>
 
<p>
Protocol state machine is always defined in the <strong>context</strong> of a classifier.
 A classifier may have several protocol state machines.
</p>

<p>
All transitions of a protocol state machine must be
 <a href="https://www.uml-diagrams.org/protocol-state-machine-diagrams.html#protocol-transition" class="ref-link">protocol transitions</a>.
</p>

<p>
The notation for protocol state machine is similar to the one of behavioral state machines.
 The keyword <strong>{protocol}</strong> is placed close to the name of the state machine to differentiate 
 protocol state machine diagrams.
</p>

<div class="figure-left-80">
<img src="https://www.uml-diagrams.org/notation/protocol-state-machine-frame.png" width="300" height="211"
 alt="Protocol state machine for URLConnection class." 
 title="Protocol state machine for URLConnection class." />
<p class="figure-text">
Protocol state machine for URLConnection class
</p>
</div>


<!--
****************
 Protocol State
****************
-->

<h2 id="protocol-state">Protocol State</h2>

<p>
The states of a protocol state machine (protocol states) present an <strong>external view</strong> of the class
 that is exposed to its clients.
Depending on the context, protocol states can correspond to the internal states of the instances
 as expressed by behavioral state machines, or they can be different.
</p>

<p>
The states of protocol state machines are exposed to the users of their context classifiers.
 A protocol state represents an exposed stable situation of its context classifier:
 When an instance of the classifier is not processing any operation, users
 of this instance can always know its state configuration.
</p>

<div class="figure-left-80">
<img src="https://www.uml-diagrams.org/notation/protocol-state-simple.png" width="100" height="56"
 alt="Simple protocol state Running." 
 title="Simple protocol state Running." />
<p class="figure-text">
Simple protocol state <strong>Running</strong>.
</p>
</div>

<p>
States of a protocol state machine cannot have entry, exit, or do activity actions.
Protocol state machines also cannot have deep or shallow history pseudostates.
</p>

<p>
Protocol state machines can have
 <a href="https://www.uml-diagrams.org/state-machine-diagrams.html#submachine-state" class="ref-link">submachine states</a>,
 <a href="https://www.uml-diagrams.org/state-machine-diagrams.html#composite-state" class="ref-link">composite states</a>,
 and concurrent regions.
</p>

<div class="figure-left-80">
<img src="https://www.uml-diagrams.org/notation/protocol-state-composite.png" width="340" height="208"
 alt="Simple composite protocol state Runnable." 
 title="Simple composite protocol state Runnable." />
<p class="figure-text">
Simple composite protocol state <strong>Runnable</strong>.
</p>
</div>

<p>
For example, concurrent regions make it possible to express protocol where an instance can have several
 active states simultaneously. Substate machines and compound
transitions are used as in behavioral state machines for factorizing complex protocol state machines.
</p>


<!--
*********************
 Protocol Transition
*********************
-->

<h2 id="protocol-transition">Protocol Transition</h2>

<p>
A <strong>protocol transition</strong> is specialization of
 <a href="https://www.uml-diagrams.org/state-machine-diagrams.html#behavioral-transition" class="ref-link">(behavioral) transition</a>
 used for the protocol state machines which specifies a legal transition
 for an <a href="https://www.uml-diagrams.org/operation.html" class="ref-link">operation</a>.
 Protocol transition has
 the following <a href="https://www.uml-diagrams.org/uml-core.html#feature" class="ref-link">features</a>:
 a pre-condition (guard),
 <a href="https://www.uml-diagrams.org/common-behaviors.html#trigger" class="ref-link">trigger</a>,
 and a post-condition.
</p>

<p>
Protocol transition is usually associated with some operation that belongs
 to the context classifier of the protocol state machine.
 The protocol transition specifies that the associated (referred) operation can be called for an instance
 in the origin state under the initial condition (guard), and that at the end of the transition,
 the destination state will be reached with the post condition satisfied.
</p>

<p>
Compound transitions can also be used for protocol state machines.
</p>

<p>
Protocol transition is rendered as a transition arrow
 from the source <a href="https://www.uml-diagrams.org/state-machine-diagrams.html#vertex" class="ref-link">vertex</a> 
 to the target vertex, with optional text describing transition.
</p>

<div class="figure-left-80">
<img src="https://www.uml-diagrams.org/state-machine-diagrams/protocol-transition.png" width="315" height="101" 
 alt="Protocol transition from New to the Active state with pre-condition (guard), trigger, and a post-condition." 
 title="Protocol transition from New to the Active state with pre-condition (guard), trigger, and a post-condition." />
<p class="figure-text">
Protocol transition from New to the Active state<br />
 with pre-condition (guard), trigger, and a post-condition.
</p>
</div>

<p>
The textual notation for a protocol transition is described by the following syntax rules
 (note, there are no syntax rules for protocol transition in UML 2.5 specification,
 so I made those up):
</p>

<p class="syntax-rule">
<span class="nonterm">protocol-transition</span> ::=
  [&nbsp;<span class="nonterm">pre-condition</span>&nbsp;]&nbsp;
  <span class="nonterm"><a href="https://www.uml-diagrams.org/common-behaviors.html#trigger-syntax" class="ref-link">trigger</a></span>&nbsp;'/'&nbsp;
  [&nbsp;<span class="nonterm">post-condition</span>&nbsp;]&nbsp;
<br />
<span class="nonterm">pre-condition</span>&nbsp;::=
&nbsp;'['&nbsp;<span class="nonterm"><a href="https://www.uml-diagrams.org/constraint.html#constraint-syntax" class="ref-link">constraint</a></span>&nbsp;']'
<br />
<span class="nonterm">post-condition</span>&nbsp;::=
&nbsp;'['&nbsp;<span class="nonterm"><a href="https://www.uml-diagrams.org/constraint.html#constraint-syntax" class="ref-link">constraint</a></span>&nbsp;']'
</p>

<p>
Note, that though UML 2.5 specification says that
 <span class="citation">"the usual StateMachine notation applies"</span>,
 and it is rather jocose statement as protocol transition syntax (shown above)
 is quite different from the 
 <a href="https://www.uml-diagrams.org/state-machine-diagrams.html#transition-syntax" class="ref-link">behavioral transition syntax</a>.
</p>

<p>
The <span class="nonterm">guard</span>
 of the  <a href="https://www.uml-diagrams.org/state-machine-diagrams.html#transition-syntax" class="ref-link">behavioral transitions</a>
 for the protocol transitions is named <span class="nonterm">pre-condition</span>, and 
 is placed <strong>before</strong> the trigger.
 <span class="nonterm">Post-condition</span> was added to protocol transitions and
 appear <strong>after</strong> the trigger.
 Protocol transitions have no <span class="nonterm">behavior-expression</span>.
 It is not clear whether
 <span class="nonterm">trigger</span> is optional for protocol transitions
 as it is for behavioral transitions.
 Both protocol transition syntax and examples show '/' after the trigger, which is different from 
 behavioral transitions, where '/' is the token placed before <span class="nonterm">behavior-expression</span>.
 Everything else is "the usual StateMachine notation". :o)
</p>


<br />
</article>
</main>
<footer>
<script type="text/javascript" src="https://www.uml-diagrams.org/orphus/orphus.js"></script>
<p class="footer-author">
Noticed a spelling error? Select the text using the mouse and press Ctrl + Enter.
</p>
<div id="footer">

<span id="fb-root"></span>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>

<span class="fb-like" data-href="http://www.facebook.com/pages/uml-diagramsorg/159692074079895" 
 data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></span>

&nbsp;

<a href="http://orphus.ru" id="orphus" target="_blank">
<img alt="Orphus system" src="/orphus/orphus.png" border="0" width="52" height="32" /></a>

&nbsp;

<a href="https://www.ipage.com/green-certified/"
 onClick="MyWindow=window.open('http://www.ipage.com/green-certified/uml-diagrams.org','greenCertified','toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=550,height=700,left=50,top=50'); return false;">
<img src="https://www.ipage.com/green-certified/hosting-badge-1.png" border="0" alt="Powered by 100% wind energy" title="Powered by 100% wind energy"></a>

&nbsp;

<img src="//shield.sitelock.com/shield/www.uml-diagrams.org" id="sl_shield_image" style="border-style:none;cursor:pointer;" />
<script id="sl_shield" src="//shield.sitelock.com/sitelock.js" language="javascript"></script>

&nbsp;

by Kirill Fakhroutdinov.

<p>&nbsp;</p>

<p>
This document describes <strong>UML 2.5</strong> and is based on
 <strong>OMG&trade; Unified Modeling Language&trade; (OMG UML&reg;) 2.5</strong> specification 
 <a href="https://www.uml-diagrams.org/references.html#ref-uml-25-b1" class="external-ref" title="UML 2.5 Specification FTF Beta 1">[UML 2.5 FTF - Beta 1]</a>.
</p>

<p>
All UML diagrams were created in <strong>Microsoft Visio</strong> 2007-2016 using 
<a href="http://softwarestencils.com/uml/index.html" class="external-ref" title="Visio Stencil and Template for UML 2.2">UML 2.2 stencils</a>.
 You can send your comments and suggestions to <a href="mailto:webmaster@uml-diagrams.org">webmaster</a>
 at <strong>webmaster@uml-diagrams.org</strong>.
</p>

<p>&nbsp;</p>

<p>
<em>Copyright &copy; 2009-2020 uml-diagrams.org. All rights reserved.</em>
</p>

</div><div id="disqus_thread"></div>
<script>
var disqus_config = function () {
 this.page.identifier = 'protocol-state-machine-diagrams.html';
 this.page.url = 'https://www.uml-diagrams.org/protocol-state-machine-diagrams.html';
};
(function() {
  var d = document, s = d.createElement('script');
  s.src = '//umldiagrams.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript=umldiagrams" rel="nofollow">comments powered by Disqus.</a></noscript>
<script id="dsq-count-scr" src="//umldiagrams.disqus.com/count.js" async></script>
</footer>
</body>
</html>