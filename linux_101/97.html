<HEAD><TITLE>鳥哥的 Linux 私房菜 -- 移除不要的服務</TITLE>
<META http-equiv=Content-Type content="text/html; charset=big5">
<META content="Mozilla/4.5 [zh-TW] (WinNT; I) [Netscape]" name=GENERATOR>
<META content="strart 101" name="Microsoft Theme">
<META content="tl, default" name="Microsoft Border">
<META content=VBird name=Author>
<STYLE>
      <!--
      body{background-image=url("97_files/VBirdLinux[1].jpg");background-attachment=fixed}
      -->
   </STYLE>
</head>
<BODY style="CURSOR: auto" background="97_files/VBirdLinux[1].jpg" nosave>
<CENTER><B><FONT color=#3333ff><FONT size=+2><FONT face=標楷體>鳥哥的</FONT><FONT face="Times New Roman,Times"> Linux </FONT><FONT face=標楷體>與</FONT><FONT face="Times New Roman,Times"> ADSL </FONT><FONT face=標楷體>私房菜</FONT></FONT></FONT></B> <BR><A href="http://linux.vbird.org/" target=_top><IMG height=25 src="61_files/VBirdTitle2[10].jpg" width=90 border=0 NOSAVE></A> <A href="http://linux.vbird.org/linux_basic"><IMG height=25 src="39_files/icon_system[3].gif" width=90 border=0 NOSAVE></A> <A href="http://linux.vbird.org/linux_server"><IMG height=25 src="55_files/icon_server[13].gif" width=90 border=0 NOSAVE></A> <A href="http://linux.vbird.org/linux_security"><IMG height=25 src="71_files/icon_security[10].jpg" width=90 border=0 NOSAVE></A> <A href="http://phorum.vbird.org/" target=_blank><IMG height=25 src="60_files/icon_forums[10].gif" width=90 border=0 NOSAVE></A> <A href="http://linux.vbird.org/adsl"><IMG height=25 src="50_files/icon_adsl[13].gif" width=90 border=0 NOSAVE></A> <BR>
<HR width="100%">
</CENTER><FONT color=#3333ff><FONT size=+2><FONT face=標楷體>移除 </FONT><FONT face="Times New Roman Baltic">Linux</FONT><FONT face=標楷體> 上面不必要的服務</FONT></FONT></FONT> 
<DIV align=right><FONT face=新細明體><FONT color=#3333ff><FONT size=-1>最近更新日期：2001/10/02</FONT></FONT></FONT></DIV>
<HR width="100%">

<BLOCKQUOTE><FONT color=#3333ff><FONT size=+1>針對安全的考量，移除不必要的服務通道</FONT></FONT></BLOCKQUOTE>
<UL><FONT color=#000099>前言</FONT><FONT color=#000000>：</FONT> <BR><FONT color=#000000>這篇文章是參考網路上一些前輩的資料寫下來的，如果有興趣的話，不妨去看一下原作者的內容：</FONT></UL>
<UL>
<UL>
<LI><FONT color=#000000><A href="http://linux.tnc.edu.tw/techdoc/easy-protect.htm" target=_blank>簡易駭客防制法</A>：臥龍小三的大作；</FONT> 
<LI><FONT color=#000000><A href="http://safe.ip-market.com/article.php?sid=6" target=_blank>自己架一個安全的伺服器環境（二）</A>：Linux 安全交流網</FONT> </LI></UL></UL>
<UL><FONT color=#000000>在你安裝了 Linux 之後呢，相信有很多的朋友會開始想要作一些很炫的服務，例如 WWW 或者是 mail 亦或是 FTP 的服務，但是，這些服務都有潛在性的危險喔，很多的駭客就是利用你開啟的這些服務來進行網站的破壞！基本上，比較麻煩的是『特洛伊木馬』程式這一類的後門程式，以你的網站做為中繼站去攻擊駭客想要攻擊的目標。所以囉，灌完了 Linux 之後，先將一些不必要的程式或服務移除吧！以保障您的網路安全！</FONT></UL>
<UL>
<LI>關閉一些服務： 
<DT><FONT color=#000000>在你開始 Linux 的網路功能之後，建議您關閉一些網路上的服務，通常，這些服務並不會使用到！所以對於您的日常行為（如 e-mail, WWW, FTP ）是不會有影響的，既然對於日常行為不會有影響，又可以增進您網路的安全性，當然是需要進行囉！</FONT> </DT></LI></UL>
<UL>
<OL>
<LI><FONT color=#3333ff>關閉一些服務</FONT><FONT color=#000000>：</FONT> <BR><FONT color=#000000>關閉的方法有很多，通常我是使用 /usr/sbin/setup 來關閉的，只是用這樣的方式來關閉的話，需要重新啟動 Linux ，比較麻煩一些些，如果您是使用我們這個網頁的 RedHat6.1 系統的話，那就執行 </FONT><FONT face=細明體><FONT color=#000099>/usr/sbin/setup</FONT></FONT><FONT color=#000000> 吧！然後選擇 </FONT><FONT face=細明體><FONT color=#000099>System services</FONT></FONT><FONT color=#000000>，將所有的服務啟動項目開到剩下如下的幾個：</FONT> 
<UL>
<LI><FONT color=#000000>atd</FONT> 
<LI><FONT color=#000000>crond</FONT> 
<LI><FONT color=#000000>inet</FONT> 
<LI><FONT color=#000000>keytable</FONT> 
<LI><FONT color=#000000>kudzu</FONT> 
<LI><FONT color=#000000>network</FONT> 
<LI><FONT color=#000000>random</FONT> 
<LI><FONT color=#000000>sendmai（如果你有開啟 e-mail 服務的話）</FONT> 
<LI><FONT color=#000000>smb（如果你有開啟 SAMBA 服務的話）</FONT> 
<LI><FONT color=#000000>syslog</FONT> 
<LI><FONT color=#000000>xfs（如果你有執行 X-windows 的話）</FONT> </LI></UL><FONT color=#000000>其他的服務就是你的要求來開啟囉，其實，除非你真的瞭解該服務是作何用的，否則可以先予以關閉之，但是上面的幾個項目則必須要開啟的！</FONT> <BR>&nbsp; 
<LI><FONT color=#3333ff>設定啟動時的服務</FONT><FONT color=#000000>：</FONT> <BR><FONT color=#000000>另外還有一個檔案在設定開機時的服務設定，那就是</FONT><FONT face=細明體><FONT color=#000099>/etc/inetd.conf</FONT></FONT><FONT color=#000000>這個檔案，在這個檔案中，開啟到剩下四個服務就好，其他的服務就把他註解掉（加上一個 # 符號即可）。</FONT> 
<UL>
<LI><FONT face=細明體><FONT color=#000000>ftp&nbsp;&nbsp;&nbsp; stream tcp nowait root /usr/sbin/tcpd in.proftpd</FONT></FONT> 
<LI><FONT face=細明體><FONT color=#000000>telnet stream tcp nowait root /usr/sbin/tcpd in.telnetd</FONT></FONT> 
<LI><FONT face=細明體><FONT color=#000000>pop-3&nbsp; stream tcp nowait root /usr/sbin/tcpd ipop3d</FONT></FONT> 
<LI><FONT face=細明體><FONT color=#000000>imap&nbsp;&nbsp; stream tcp nowait root /usr/sbin/tcpd imapd</FONT></FONT> </LI></UL><FONT face=細明體><FONT color=#000000>另外，如果您的 RedHat 版本在 7.0 以後的話，那關於各項服務的目錄就會是在 /etc/xinetd.d 這個目錄中了！由於 xinetd 是將所有的服務個別放置於不同的檔案中，因此你需要針對所有的檔案進行修正！通常，只要將每個檔案中的 disable = no 改寫成 disable = yes 就可以了！</FONT></FONT> <BR>&nbsp; 
<LI><FONT color=#3333ff>從 Linux 系統上移除一些套件：</FONT> <BR><FONT color=#000000>雖然我們已經將一些服務關掉了，但是最好還是從根本上將這個套件給他移除吧！以下這些套件是不必要的套件，你可以移除：</FONT> 
<UL>
<LI><FONT color=#000000>git</FONT> 
<LI><FONT color=#000000>finger</FONT> 
<LI><FONT color=#000000>talk</FONT> 
<LI><FONT color=#000000>ytalk</FONT> 
<LI><FONT color=#000000>ucd-snmp-utils</FONT> </LI></UL><FONT color=#000000>另外，還有一些 ftp 的套件也可以將之移除喔！（如果你不需要的話！！）移除的方法很簡單，就用 rpm 吧：</FONT> 
<UL>
<LI><FONT face=細明體><FONT color=#000000>rpm -e git finger talk ytalk ucd-snmp-utils</FONT></FONT> </LI></UL>
<LI><FONT color=#3333ff>重新開機</FONT>： <BR><FONT color=#000000>這個不用教吧！ </FONT><FONT face=細明體><FONT color=#000099>reboot</FONT></FONT><FONT color=#000000> 即可</FONT></LI></OL></UL>
<DT><FONT face=新細明體><FONT color=#3333ff><FONT size=-1>2002/ 01/01以來統計人數</FONT></FONT></FONT> <BR><IMG height=15 src="97_files/Count[15].gif" width=60 align=ABSCENTER NOSAVE> 
<HR width="100%">

<CENTER><A href="http://linux.vbird.org/" target=_top><IMG height=25 src="61_files/VBirdTitle2[10].jpg" width=90 border=0 NOSAVE></A> <A href="http://linux.vbird.org/linux_basic"><IMG height=25 src="39_files/icon_system[3].gif" width=90 border=0 NOSAVE></A> <A href="http://linux.vbird.org/linux_server"><IMG height=25 src="55_files/icon_server[13].gif" width=90 border=0 NOSAVE></A> <A href="http://linux.vbird.org/linux_security"><IMG height=25 src="71_files/icon_security[10].jpg" width=90 border=0 NOSAVE></A> <A href="http://phorum.vbird.org/" target=_blank><IMG height=25 src="60_files/icon_forums[10].gif" width=90 border=0 NOSAVE></A> <A href="http://linux.vbird.org/adsl"><IMG height=25 src="50_files/icon_adsl[13].gif" width=90 border=0 NOSAVE></A> <BR><FONT color=#000066><FONT size=-1>Designed by <A href="mailto:vbird@mail.vbird.idv.tw">VBird</A> during 2001-2004.&nbsp; Aerosol Lab.</FONT></FONT></CENTER></DT></BODY>