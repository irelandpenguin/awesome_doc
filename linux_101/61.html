<HEAD><TITLE>鸟哥的 Linux 私房菜 -- 申请合法的主机名称</TITLE>
<META http-equiv=Content-Type content="text/html; charset=gb2312">
<META content=VBird name=Author>
<META content="Mozilla/4.5 [zh-TW] (WinNT; I) [Netscape]" name=GENERATOR>
<META content="主C名Q是很重要的，尤其是B的 DNS 主C名Q，本文有B的 DNS 之y技巧，以及相P的文件！" name=Description><!-- saved from url=(0022)http://internet.e-mail -->
<STYLE>
   <!--
   body{background-image=url("61_files/VBirdLinux[1].jpg");background-ATTACHMENT=FIXED}
   -->
</STYLE>
</head>
<BODY background="61_files/VBirdLinux[10].jpg" nosave="">
<CENTER>
<CENTER><B><FONT color=#3333ff size=+2><FONT face=SimSun>鸟哥的</FONT><FONT face="Times New Roman,Times"> Linux </FONT><FONT face=SimSun>与</FONT><FONT face="Times New Roman,Times"> ADSL </FONT><FONT face=SimSun>私房菜</FONT></FONT></B> <BR><A href="http://linux.vbird.org/" target=_top><IMG height=25 src="61_files/VBirdTitle2[10].jpg" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/linux_basic"><IMG height=25 src="39_files/icon_system[3].gif" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/linux_server"><IMG height=25 src="55_files/icon_server[13].gif" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/linux_security"><IMG height=25 src="71_files/icon_security[10].jpg" width=90 border=0 nosave=""></A> <A href="http://phorum.vbird.org/" target=_blank><IMG height=25 src="60_files/icon_forums[10].gif" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/adsl"><IMG height=25 src="50_files/icon_adsl[13].gif" width=90 border=0 nosave=""></A> <BR>
<HR width="100%">
</CENTER><FONT face=SimSun color=#3333ff size=+2><A href="http://linux.vbird.org/linux_server/0270dynamic_dns.php" target=_self>申请合法的主机名称</A></FONT></CENTER>
<DIV align=right><FONT face=SimSun color=#3333ff size=-1>最近更新日期：2003/08/26</FONT></DIV><FONT face=SimSun color=#3333ff size=-2>　</FONT> 
<TABLE cols=1 width="100%" bgColor=#ffcccc border=1>
<TBODY>
<TR>
<TD><FONT color=#000099 size=-1>呵呵！在您读完了网络基础，设定好了防火墙，解决了认识埠口的问题，并且架设了个人简易的防火墙之后，总算是准备要开始来给他进入 Server 的架设了！服务器架设的步骤里面，很重要的一点是『<B>您的主机名称必须要在 Internet 上面可以被查询</B>』才好！由网络基础我们知道网络上的设备(主机或其它网络媒体)仅认识 IP ，但人类对于 IP 记忆力又不佳，所以才会以主机名称来取代 IP。不过，您的主机名称要能够被查询到才有用啊！这个时候，一个『合法』的主机名称就很重要了！那要合法的主机，就得要让 DNS 系统能够找的到您的主机啊！不过，如果我们的主机是使用拨接得到的不固定 IP 呢？又该如何申请 DNS 主机名称？那就得要使用动态 DNS 的系统！在这个章节中，我们主要在介绍 Client 端的设定，而不是在设定 DNS 主机喔！ ^_^</FONT></TD></TR></TBODY></TABLE><FONT color=#000099 size=-2>　</FONT> <BR><FONT color=#000099 size=+1><A href="#hostname">为何需要主机名称</A></FONT> <BR><FONT color=#000099>　　：<A href="#hostname_why">主机名称的由来</A></FONT> <BR><FONT color=#000099>　　：<A href="#hostname_search">关于 DNS 的查询流程</A></FONT> <BR><FONT color=#000099>　　：<A href="#hostname_avalible">重点在合法授权</A></FONT> <BR><FONT color=#000099>　　：<A href="#hostname_what">申请静态还是动态 DNS 主机名称</A></FONT> <BR><FONT color=#000099><FONT size=+1><A href="#need">注册一个合法的主机名称</A></FONT> ：</FONT> <BR><FONT color=#000099>　　：<A href="#need_static">静态 DNS 的申请</A></FONT> <BR><FONT color=#000099>　　：<A href="#need_dynamic_adsldns">动态 DNS -- http://www.adsldns.org</A></FONT> <BR><FONT color=#000099>　　：<A href="#need_dynamic_noip">动态 DNS -- http://www.no-ip.com</A></FONT> <BR><FONT color=#000099 size=+1><A href="#reference">参考数据</A></FONT> <BR><FONT color=#000099 size=+1><A href="#ex">课后练习</A></FONT> <BR>
<HR width="100%">
<A name=hostname></A><FONT color=#000099 size=+1>为何需要主机名称：</FONT> 
<UL>说到这个『为什么需要主机名称』的问题，呵呵！其实还真的是为了人类那容纳不下太多内存的脑袋啊！因为人们对于网络基础的 IP 记忆力实在是不好，所以才会选择以人类容易记忆的『Hostname』来作为记忆某部主机的地址。不过，因为网络仅认识 IP 而已，而人类仅想要记忆主机名称而已，所以，人们就得想一个办法『<FONT color=#000066>将主机名称与 IP 对应在一起</FONT>』才行啊！如果您想要架设一个在 Internet 上面提供服务的网站时，那么一个容易记忆与闪亮的主机名称是必须的喔！否则大家要连上您的网站都得要记忆 IP ，那不烦死了～而且，如果您的 IP 又是类似拨接的不固定的 IP 时，那还更伤脑筋呢！所以，在这个章节里面，我们会针对如何申请一个合法的主机名称来做说明，至于您如果想要进行领域名称( DNS )主机的架设，那就请参考后续章节的 <A href="http://linux.vbird.org/linux_server/0350dns.php">DNS 主机设定</A>吧！ <BR>　 <BR>
<HR width="100%">
<A name=hostname_why></A><FONT color=#000099>主机名称的由来</FONT> <BR>　 <BR>在早期，因为连上网络的计算机数量不多，不过因为 IP 很难记忆，所以在网络上的人们就想出一个简单的办法来进行主机名称与 IP 的对应，那就是『<FONT color=#000066>在每部计算机的 /etc/hosts 里面设定好主机名称与 IP 的对应表</FONT>』，那么未来人们就可以直接藉由主机名称来连接上某些网络上的主机！然而因为科技的发达，连上 Internet 的人们越来越多，使用 /etc/hosts 的方法已经搞不定了(<I>只要一部计算机上线，全部的 Internet 上面的所有计算机都要重新改写 /etc/hosts！不太好吧！</I> ) ，这个时候<FONT color=#000066>领域名称系统 ( Domain Name System, DNS )</FONT> 就适时的出现了！ <BR>　 <BR>DNS 利用类似树状目录的型态，将主机名称的管理分配在不同层级的 DNS 主机当中，经由分层管理，所以每一部主机的记忆的信息就不会很多，而且异动上面也相当的容易修改！那么这个 DNS 的功能您知道了吗？对啦！就是『<FONT color=#000066>将计算机主机的名称转译成 IP </FONT>』就是了！当然，他的额外功能还很多，关于 DNS 的详细的解析部分我们将在后续的 <A href="http://linux.vbird.org/linux_server/0350dns.php">DNS 主机架设</A> 章节当中在持续的加强内容，总之，他的最大功能就是『<FONT color=#000066>让有意义的，人类较容易记忆的主机名称(英文字母)，转译成为计算机所熟悉的 IP 地址！</FONT>』举个例子来说好了，奇摩雅虎的网站的 IP 是 202.1.237.21 ，所以您可以在您的浏览器上面输入『 http://202.1.237.21 』来连上奇摩雅虎！不过，我想没有几个人能够将这个 IP 背的起来的吧？！反之，我们却都知道奇摩雅虎的网址为 tw.yahoo.com ，那么您只要输入『 http://tw.yahoo.com 』就可以连上 Internet 啦！很容易记忆吧！不过，计算机怎么知道 tw.yahoo.com 就是 202.1.237.21 呢？底下我们以我们的主机 <FONT color=#000066>aerosol.ev.ncku.edu.tw</FONT> 来说明 DNS 的搜寻原理吧！ <BR>　 <BR>
<HR width="100%">
<A name=hostname_search></A><FONT color=#000099>关于 DNS 的查询流程</FONT> <BR>　 <BR>刚刚说过 DNS 是以类似『<FONT color=#000066>树状目录</FONT>』的型态来进行名称的管理的！所以每一部 DNS 主机都『<FONT color=#000066>仅管理下一层 DNS 主机的名称转译</FONT>』而已，至于下层的下层，则『<FONT color=#000066>授权</FONT>』给下层的 DNS 主机来管理啦！这样说好像很绕口，好吧！我们就以下图来说一说原理： <BR>　 
<CENTER><A name=fig_1></A><IMG height=250 src="61_files/0270dynamic_dns[1].jpg" width=262 nosave=""> <BR><FONT color=#000066>图一、DNS 的查询示意图</FONT> <BR>&nbsp;</CENTER>首先，当您在网址列输入 http://aerosol.ev.ncku.edu.tw 时，您的计算机就会依据 <A href="http://linux.vbird.org/linux_server/0130internet_connect.php#etc_resolv.conf">/etc/resolv.conf</A> 所提供的 DNS 的 IP 去进行联机查询，好了，用最常见的 Hinet 的 168.95.1.1 这个 DNS 主机好了，这个时候， hinet 的这部主机会这样工作： <BR>　 
<OL>
<LI><FONT color=#000099>先查看本身有没有纪录</FONT>：因为 hinet 并没有纪录到学术网络上面的信息，所以自然也就没有办法直接提供给 client 端关于 aerosol.ev.ncku.edu.tw 这部机器的 IP 了，好了，这个时候 168.95.1.1 就会向 DNS 的 root 『.』 那部主机查询，而 『.』 会告诉 Hinet 到 .tw 这部机器去查询； 
<LI><FONT color=#000099>向最顶层查询</FONT>：由于 168.95.1.1 没有纪录我们主机的 IP ，这个时候他就会向『台湾地区最顶层的 DNS 』亦即 .tw 这部主机来查询数据了！而.tw 这部机器管理的只有 .com.tw, .edu.tw ... 等等的那一行的几部主机的 IP 而已(<A href="#fig_1">见图一</A>)，所以他也不晓得 aerosol 那部主机的 IP ，但是他却可以告诉 168.95.1.1 说『嘿！您可以到 .edu.tw 那部机器去查询！我这里有 .edu.tw 的 IP 呦！』； 
<LI><FONT color=#000099>向第二层查询</FONT>：168.95.1.1 接着又到 .edu.tw 去查询，而该部机器管理的又仅有 .ncku.edu.tw, .nsysu.edu.tw, .... 那几部主机(<A href="#fig_1">见图一</A>)，所以这个时候 .edu.tw 又告诉 168.95.1.1 说：『您要去 .ncku.edu.tw 那里查询，我有他的 IP ！』； 
<LI><FONT color=#000099>向下层持续查询</FONT>：好了，一步一步下来， .ncku.edu.tw 可以查到 .ev.ncku.edu.tw 的 IP ，而最后我们 aerosol.ev.ncku.edu.tw 就可在 .ev.ncku.edu.tw 当中查询到啦！ 
<LI><FONT color=#000099>记录暂存内存</FONT>：查到了 IP 之后， 168.95.1.1 会先记录一份对应 IP 的信息在自己的暂存内存当中，以方便下一次同一个主机名称的要求之查询！然后再将结果回报给 client 端！ </LI></OL>　 <BR>就是这样的分层负责，所以当您的主机名称要修改时，您只要向您的上层 DNS 要求修改，那么全世界就都可以找到您修改过后的主机名称对应的 IP 了！很简单维护吧！机动性也很高吧！好啦！<FONT color=#000066>那么我们需要架设 DNS 了吗</FONT>？！哈哈！当然不是，为什么呢？这个就牵涉到『<FONT color=#000066>授权</FONT>』的问题了！ <BR>　 <BR>
<HR width="100%">
<A name=hostname_avalible></A><FONT color=#000099>重点在合法授权：</FONT> <BR>　 <BR>很多朋友都认为『<FONT color=#000066>我要架站，因为主机要有名字，所以一定需要架设 DNS ？</FONT>』是这样吗？当然不是！这是错误的观念，怎么说呢？从上面的图示当中，您应该不难发现，当我要搜寻 aerosol.ev.ncku.edu.tw 时，就需要由 .ev.ncku.edu.tw 这部机器上面查到，而 .ev.ncku.edu.tw 则需要在 .ncku.edu.tw 上面查到！好了，那么 .ncku.edu.tw 怎么知道 .ev.ncku.edu.tw 的 IP 呢？这是因为『<FONT color=#000066> .ncku.edu.tw 已经授权给 ev.ncku.edu.tw 这部机器，当有人要查询 .ev.ncku.edu.tw 时， .ncku.edu.tw 将把查询的任务直接转给 .ev.ncku.edu.tw 去管理了</FONT>！』所以，如果您要架设 DNS ，而且是可以连上 Internet 上面的 DNS 时，您就必须要透过『<FONT color=#000066>上层 DNS 主机的授权</FONT>』才行！ <BR>　 <BR>那么我要怎么架站呢？很简单阿！刚刚不是说过吗？ DNS 系统最大的功能就是『<FONT color=#000066>主机名称转译成 IP </FONT>』这个动作，那么您只要<FONT color=#000066>向任何一个合法的 DNS 主机申请一个『主机名称, hostname 』给您的 Linux 主机</FONT>，让大家都可以藉由该 DNS 主机来查询到您的 Linux 之 IP ，就可以使用该主机名称来架站啦！就是这么简单！那网址列的名称有没有什么意义呢？其实是有的，网址列的最后几个字母代表的意义如下： <BR>　 
<TABLE width=500 border=1>
<TBODY>
<TR>
<TD width=200 bgColor=#ffcccc>
<CENTER>名称</CENTER></TD>
<TD width=300 bgColor=#ffcccc>
<CENTER>代表意义</CENTER></TD></TR>
<TR>
<TD>
<CENTER>com</CENTER></TD>
<TD>
<CENTER>公司、行号、企业</CENTER></TD></TR>
<TR>
<TD>
<CENTER>org</CENTER></TD>
<TD>
<CENTER>组织、机构</CENTER></TD></TR>
<TR>
<TD>
<CENTER>edu</CENTER></TD>
<TD>
<CENTER>教育单位</CENTER></TD></TR>
<TR>
<TD>
<CENTER>gov</CENTER></TD>
<TD>
<CENTER>政府单位</CENTER></TD></TR>
<TR>
<TD>
<CENTER>net</CENTER></TD>
<TD>
<CENTER>网络、通讯</CENTER></TD></TR>
<TR>
<TD>
<CENTER>mil</CENTER></TD>
<TD>
<CENTER>军事单位</CENTER></TD></TR></TBODY></TABLE>　 <BR>所以，如果您只是想要『一个合法的主机名称』，那么根本就不需要架设 DNS 主机，只要去申请一个合法的名称即可喔！那么该如何申请呢？又，如果我的 IP 不是固定的，又该如何使用呢！？ <BR>　 <BR>
<HR width="100%">
<A name=hostname_what></A><FONT color=#000099>申请静态还是动态 DNS 主机名称</FONT> <BR>　 <BR>由上面的说明当中，我们可以很清楚的知道 DNS 系统最大的功能就是在主机名称对应 IP 的转译上面。当然啦，预设的 DNS 转译是用在『<FONT color=#000066>固定 IP 对应主机名称</FONT>』的方法上面的！夭寿喔！我们的小站很多都是以非固定 IP (很多人也称为浮动式 IP 、动态 IP 等等的名称) 来上网的，更有甚者， Hinet 的 ADSL 拨接都是 24 小时强制断线一次的，所以我们都得需要重新拨接上网，而每次拨接成功后取得的 IP 可不见得相同啊，如此一来 IP 不是一直在变吗？！那么我不就需要一直跟我上层 DNS 主机的管理员申请『<FONT color=#000066>变更 IP </FONT>』吗？！会不会太麻烦了点？ <BR>　 <BR>是很麻烦啊！所以现在为了解决这个问题，很多 ISP 提供了所谓的 <FONT color=#000066>动态 DNS 主机服务</FONT> 的功能，他是这样做的： <BR>　 
<OL>
<LI><FONT color=#000066>Client 端(就是您啦)每次开机或者是重新拨接，并取得一个新的 IP 之后，会向 DNS Server 端提出要求，希望 Server 端变更主机名称与 IP 的对应 ( 这个步骤在每个主要的 ISP 都有提供适当的 program 来提供给 client 使用 )；</FONT> 
<LI><FONT color=#000066>Server 端接受 Client 端的要求之后，会先去查询 Client 提供的账号密码是否正确，正确之后就会立即修改 Server 本身对于您的主机名称的设定值。</FONT> </LI></OL>　 <BR>所以，每次我们取得了新的 IP 之后，我们的主机名称对应的 IP 也会跟着在 DNS 系统上面更新，如此一来，只要别人知道您的主机名称，不论您的 IP 为何，他一定可以连上您的主机 ( 因为 IP 跟着您的主机而变！ ) 这对于我们这种使用动态 IP 的人是很有帮助的！ ( 阿！真是造福我们这些穷苦人家的孩子呀！) <BR>　 <BR>就因为如此，所以： <BR>　 
<UL>
<LI><FONT color=#000066>如果您的主机具有固定 IP 时，请选择预设的固定 IP 对应主机名称，并且只要在 DNS 主机上面设定过一次之后，就不需要进行其它的设定，您的主机名称就已经可以被查询到了；</FONT> 
<LI><FONT color=#000066>如果您的主机 IP 是非固定的，那么就得使用动态 DNS 系统所提供的领域名称服务器系统，才可以随时更新您的主机名称对应的 IP 喔！</FONT> </LI></UL>　 <BR>不过，还是需要注意的，<FONT color=#000066>目前的主机名称申请很多是『需要钱的』</FONT>！如果您需要比较稳定的主机名称对应 IP 的服务，那么花点钱来注册还是必须的，不过，如果是实验性质的网站，那么也是可以申请免费的动态 DNS 系统喔！</UL>
<HR width="100%">
<A name=need></A><FONT color=#000099><FONT size=+1>注册一个合法的主机名称</FONT> ：</FONT> 
<UL><FONT color=#000099>静态 DNS 主机注册：</FONT> <BR>好了！既然知道了 DNS 的用途，那么自然我们就需要来申请 DNS 啦！不然怎么架设网站呢？目前的静态 IP 对应主机名称的注册网站有底下几个！当然还不止啦！我们仅提出几个出来分享就是了！ <BR>　 
<UL>
<LI><FONT color=#000066>台湾网络信息中心：<A href="http://www.twnic.net/" target=_blank>http://www.twnic.net/index3.php</A></FONT> 
<LI><FONT color=#000066>国外的领域名称系统：<A href="http://www.netsol.com/" target=_blank>http://www.netsol.com/</A></FONT> 
<LI><FONT color=#000066>国外的领域名称系统：<A href="http://www.dotster.com/home/" target=_blank>http://www.dotster.com/</A></FONT> 
<LI><FONT color=#000066>荻恩斯科技：<A href="http://kevin.adsldns.org/" target=_blank>http://kevin.adsldns.org/</A></FONT> </LI></UL><FONT color=#000099>　</FONT> <BR><FONT color=#000099>动态 DNS 主机注册：</FONT> <BR>那么有没有免费的 DNS 系统呀！呵呵！当然有！我们要感谢造福我们这些穷苦人家的孩子的大好人～～您可以在底下找到相关的信息： <BR>　 
<UL>
<LI><FONT color=#000066>台湾地区免费动态DNS系统(中文)：<A href="http://www.adsldns.org/service.php" target=_blank>http://www.adsldns.org</A></FONT> 
<LI><FONT color=#000066>国外的免费 DNS 系统：<A href="http://www.no-ip.com/" target=_blank>http://www.no-ip.com</A></FONT> </LI></UL>　 <BR>
<HR width="100%">
<A name=need_static></A><FONT color=#000099>静态 DNS 的申请</FONT> <BR>　 <BR>静态 DNS 的申请方式其实都差不多，都是需要： <BR>　 
<OL>
<LI><FONT color=#000066>先查询所想要注册的网域是否存在；</FONT> 
<LI><FONT color=#000066>进入 ISP 去申请注册您所想要的主机名称；</FONT> 
<LI><FONT color=#000066>缴费，并等待主机名称被启用。</FONT> </LI></OL>　 <BR>我们以台湾蛮常见的 Hinet 这个 ISP 提供的『<FONT color=#000066>个人网域, .idv.tw</FONT>』注册方式来说明： <BR>　 
<OL>
<LI><FONT color=#000099>进入主画面：</FONT> <BR>直接连结到底下的网页去：<A href="http://nweb.hinet.net/" target=_blank>http://nweb.hinet.net/</A>，并在 whois 的画面当中(右上角)选择您想要注册的主机名称吧！ <BR><IMG height=106 src="61_files/static-01[1].jpg" width=351 border=1 nosave=""> <BR>　 
<LI><FONT color=#000099>逐步进行注册：</FONT> <BR>如果确认您的主机名称没有被注册掉，那么您就可以开始注册了！同样的在上面的网站连结当中，选择『个人网域名称』就可以开始申请了！请依序一步一步办理！这里不再说明了，反正都是中文，看的懂得啦！ ^_^ <BR><IMG height=281 src="60_files/0350dns-6[1].jpg" width=147 border=1 nosave=""> <BR>事实上，所有的注册过程当中，最麻烦的要算是缴费了～您必须要等到缴费并且经过身份确认之后，才能够进行底下的其它步骤啊！所以.....立刻去缴费用吧！ <BR>　 
<LI><FONT color=#000099>填写主机名称对应的 IP：</FONT> <BR>缴费完毕之后，我们就可以开始进行主机名称的填写了！按下上面图示『DNS 指定/异动』的项目，并填入您的主机名称与密码，然后就会出现如下的画面了： <BR><IMG height=202 src="61_files/static-03[1].jpg" width=406 border=1 nosave=""> <BR>特别的给他留意，因为我们没有要架设 DNS 主机(因为没有必要啊！难度太高了！)，所以当然最上方要选择『主机』的项目，然后您可以填入三部主机名称喔！当然，这三部主机名称可以通通指向同一个 IP ，也可以不同！随您的便龋《，需要注意到的是，您的主机名称应该是『othername.yourhost.idv.tw』后面的 yourhost.idv.tw 是不变的，前面的 othername 则可以自由选取呢！例如我上面的设定，后面均是 vbird.idv.tw ，而前面的名称就可以让我自由选择啦！ <BR>　 
<LI><FONT color=#000099>等待 DNS 启用：</FONT> <BR>设定成功到可以使用，其实需要一定的时间的，以我为例，第一次申请之后，大约过了 20 小时该设定才正确的启动呢！请以请耐心等候啊！不要太着急！ ^_^ <BR>&nbsp;</LI></OL>各家的领域名称注册流程都差不多，不过，金额是有点差异的，当然，服务也就有不同啊！我的 vbird.org 领域名称则是在 <A href="http://www.godaddy.com/" target=_blank>http://www.godaddy.com/</A> 注册的喔！如果您不想要使用 .idv.tw 来注册的话，那么国外的 ISP 提供的 DNS 也可以考虑看看说！ <BR>　 <BR>
<HR width="100%">
<A name=need_dynamic_adsldns></A><FONT color=#000099>动态 DNS -- http://www.adsldns.org</FONT> <BR>　 <BR>如果您想要使用免费的 DNS 系统，而且您的 IP 又是非固定的，那么在台湾地区的 www.adsldns.org 倒是真的挺适合您的！您可以在 <A href="http://www.adsldns.org/member.php" target=_blank>http://www.adsldns.org/member.php</A> 申请注册，里面都是中文，所以我就不捉图了，您可以自行填写完成的啦！填写完成之后，按下注册，就可以申请到您的主机名称了！不过，重点在后面，在您取得了账号与密码之后，接下来需要设定『<FONT color=#000066>到底要使用动态 DNS 还是静态 DNS 系统</FONT>』的选项，所以，请您登入到首页： <A href="http://www.adsldns.org/service.php" target=_blank>http://www.adsldns.org/service.php</A>，在左上方填写您的注册时填入的 email 以及密码，就可以进入到如下画面： <BR>　 <BR><IMG height=312 src="61_files/adsldns-01[1].jpg" width=519 border=1 nosave=""> <BR>　 <BR>因为我们想要进行的是动态 DNS 的设定，所以在填写了 IP 之后，还需要选择第 2 项的服务功能才行喔！千万记得龋『昧耍那么要如何让系统自动的在取得新的 IP 之后立即更新主机名称呢？！在这里我写了一个针对 www.adsldns.org 的侦测 scripts 来使用，您应该先要了解一下我是如何设计这个 script 的，当您的 Linux 取得了新的 IP 之后，我这个 script 会依据您的设定而有三个工作项目，分别是： <BR>　 
<UL>
<LI><FONT color=#000099>仅 e-mail 给管理员：</FONT> <BR>适用的环境：没有申请 www.adsldns.org 的主机名称； <BR>功能：不会更新 DNS ，仅会将新的 IP e-mail 给系统管理员。 <BR>原理：利用简单的 IP 分析，如果新的 IP 分析出来的结果是没有联机的，那么系统将先启动 Internet 联机，如果旧的 IP 与新的 IP 不一样，那么就将新的 IP 寄给系统管理员！ <BR>&nbsp;</LI></UL>
<UL>
<LI><FONT color=#000099>E-mail 之外，还会更新 DNS 组态：</FONT> <BR>适用环境：申请 www.adsldns.org 主机名称者； <BR>功能：除了新的 IP 将 e-mail 给系统管理员之外，亦将会分析 DNS 主机的 IP 。 <BR>原理：利用 IP 分析，若发现断线，则自动加以联机，而联机之后的 IP 除了 e-mail 给系统管理原之外，亦将与 Internet 上面的主机名称 IP 比对，若不相同，则直接予以更新 DNS 的 IP ！ <BR>&nbsp;</LI></UL>
<UL>
<LI><FONT color=#000099>在 IP 分享器后端的 Linux 来更新 DNS 的 IP ：</FONT> <BR>适用环境：在 IP 分享器的后端的 Linux 主机，可用来判断 IP 分享器的 IP <BR>功能：除了判断 IP 分享器的 IP ，并将 IP mail 给系统管理原之外，亦将更新 DNS 的 IP ； <BR>原理：利用 www.adsldns.org 可以判断自己的 IP 的原理，用来将该 IP 整个的更新！</LI></UL>　 <BR>上述的功能我将他全部都写在同一个 script 里面了，您必须要选择您所需要的环境，<FONT color=#000066>而这个 script 将可同时适用 ADSL 与 Cable 的浮动式 IP 的状态</FONT>！一般来说，都是选择<FONT color=#000066> job 2 </FONT>的啦！底下就是我这个 script 的内容，参考看看： <BR>　 
<TABLE width=550 bgColor=#000000 border=1>
<TBODY>
<TR>
<TD><FONT face=SimSun color=#ffffff size=-1>#!/bin/bash</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#</FONT> <BR><FONT face=SimSun color=#ffffff size=-1># History and lastlog</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#======================================================================</FONT> <BR><FONT face=SimSun color=#ffffff size=-1># Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Who&nbsp;&nbsp;&nbsp;&nbsp; What</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#======================================================================</FONT> <BR><FONT face=SimSun color=#ffffff size=-1># 2002/08/05&nbsp;&nbsp;&nbsp; VBird&nbsp;&nbsp; Use the older scripts to modify and adding some</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; modules to fit everyone's needed.</FONT> <BR><FONT face=SimSun color=#ffffff size=-1># 2002/11/14&nbsp;&nbsp;&nbsp; VBird&nbsp;&nbsp; delet the integer type declare!</FONT> <BR><FONT face=SimSun color=#ffffff size=-1># 2003/08/26&nbsp;&nbsp;&nbsp; VBird&nbsp;&nbsp; 加入 iptables.rule 的支援！</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 重新改写成 function 的模式！</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#######################################################################</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#====================== INPUT SESSION =================================</FONT> <BR><FONT face=SimSun color=#ffffff size=-1># 1. 请输入您在 http://www.adsldns.org 申请到的账号密码与主机名称</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>&nbsp; password="</FONT><B><FONT color=#ffff00>your.password</FONT></B><FONT color=#ffffff>"</FONT></FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>&nbsp; email="</FONT><B><FONT color=#ffff00>your.email</FONT></B><FONT color=#ffffff>"</FONT></FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>&nbsp; hostname="</FONT><B><FONT color=#ffff00>your.host.name</FONT></B><FONT color=#ffffff>"</FONT></FONT> 
<P><FONT face=SimSun color=#ffffff size=-1># 2. method 部份请输入您连接上 Internet 的方法, 有 adsl 与 cable 两种</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#&nbsp;&nbsp;&nbsp; nicif&nbsp; 部份请输入连接 ADSL modem 的网络卡装置代号</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#&nbsp;&nbsp;&nbsp; outif&nbsp; 部份请输入对外的界面卡</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>&nbsp; method="</FONT><B><FONT color=#ffff00>adsl</FONT></B><FONT color=#ffffff>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 这里请输入 "cable" or "adsl"</FONT></FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>&nbsp; nicif="</FONT><B><FONT color=#ffff00>eth1</FONT></B><FONT color=#ffffff>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 如果您使用 cable ，那么这里请输入对外的适配卡</FONT></FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>&nbsp; outif="</FONT><B><FONT color=#ffff00>ppp0</FONT></B><FONT color=#ffffff>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 如果您使用 cable ，那么这里请输入对外的适配卡</FONT></FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1># 3. 这里请输入您要系统帮您寄信出去的 E-Mail</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>&nbsp; emailto="</FONT><B><FONT color=#ffff00>root@localhost</FONT></B><FONT color=#ffffff>"</FONT></FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1># 4. 您放置此程序的目录</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; basedir="/usr/local/pingcard"</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; basefile="$basedir/oldcardIP"</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1># 5. What jobs is your needed?</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1. e-mail and re-dial up</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2. e-mail, re-dial up, and update DNS</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3. IP share ==&gt; e-mail and update DNS</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 请选择您需要的服务</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>&nbsp; jobs="</FONT><B><FONT color=#ffff00>2</FONT></B><FONT color=#ffffff>"</FONT></FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1>#######################################################################</FONT> <BR><FONT face=SimSun color=#ffffff size=-1># 底下为程序代码，除非您知道 Shell script ，否则底下不要修改！</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#====================== DETECT FILES SESSION ==========================</FONT> <BR><FONT face=SimSun color=#ffffff size=-1># 1. Detect the lynx package.</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/local/sbin</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; export PATH</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; if [ "$jobs" == "2" ] || [ "$jobs" == "3" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; which lynx &gt; /dev/null 2&gt;&amp;1</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ "$?" != "0" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo "The nessecery package ==&gt; lynx do not install!"</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo "Please install this package before running this."</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit 1</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; fi</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1># 2. Detect the old IP file</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; welcome='Welcome to use this program to update your IP to</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; www.adsldns.org.&nbsp; This message is only show you at the first time.</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; If you have any problem about this program, and/or you have any</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; good ideas for develop this program, please contact with me.</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; http://linux.vbird.org'</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; if [ ! -f $basefile ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo $welcome | mail -s "Welcome using ping_net_card.sh" \</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $emailto</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /bin/touch $basefile</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; fi</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1>#######################################################################</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#====================== Functions&nbsp; =====================</FONT> <BR><FONT face=SimSun color=#ffffff size=-1># 底下这个函数在取得新旧的 IP 啦！</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>oldip () {</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oldip=`cat $basefile`</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>}</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>getip () {</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ifconfig "$outif" &gt; /dev/null 2&gt;&amp;1</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ "$?" == "0" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newip=`ifconfig "$outif" | grep 'inet' | \</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; awk '{print $2}' | sed -e "s/addr\://"`</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newip=""</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>}</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1># 底下这个函数在检验新旧 IP 是否相同！？</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>checkip () {</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ "$method" == "adsl" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; adsl-stop&nbsp; &gt; /dev/null 2&gt;&amp;1</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sleep 3s</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; adsl-start &gt; /dev/null 2&gt;&amp;1</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ "$method" == "cable" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ifdown $nicif &gt; /dev/null 2&gt;&amp;1</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sleep 3s</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ifup $nicif&nbsp;&nbsp; &gt; /dev/null 2&gt;&amp;1</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sleep 3s</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>}</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1># 这个函数在将 IP 地址寄给您</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>mailtoyou () {</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo $newip | \</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mail -s "The new IP in your $hostname" $emailto</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo "$newip" &gt; $basefile</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>}</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1># 这个函数在更新 DNS 系统</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>updateforyou () {</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HOST="http://www.adsldns.org:8080/clientupdate.php?\</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>email=$email&amp;passwd=$password&amp;hostname=$hostname&amp;debug=1&amp;\</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>forceip=$newip"</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lynx -dump $HOST &gt; /dev/null 2&gt;&amp;1</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>}</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1># 这个函数在更新防火墙机制</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>iptablesrule () {</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ -f /usr/local/virus/iptables/iptables.rule ] &amp;&amp; \</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sh /usr/local/virus/iptables/iptables.rule</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>}</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1># 这个函数取得您的 DNS 主机名与 IP 是否相同！</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>getdnsip () {</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dnsip=`host $hostname | awk '{print $4}'`</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>}</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1>#</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>#====================== ONLY EMAIL SESSION jobs 1 =====================</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; if [ "$jobs" == "1" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 1. Get the older IP and newer IP</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oldip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while [ "$newip" == "" ]</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; checkip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; done</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 2. compare with older IP and newer IP. And e-mail to you</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ "$newip" != "$oldip" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mailtoyou&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # just mail to you</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit 0</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; fi</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1>#====================== EMAIL and UPDATE SESSION job 2 ================</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; if [ "$jobs" == "2" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 1. Get the older IP and newer IP</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oldip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while [ "$newip" == "" ]</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; checkip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; done</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 2. compare with older IP and newer IP. And e-mail to you</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ "$newip" != "$oldip" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mailtoyou&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # just mail to you</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateforyou&nbsp;&nbsp;&nbsp; # just update for you</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sleep 3s</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iptablesrule&nbsp;&nbsp;&nbsp; # just reflush iptables rule</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 3. check if the DNS name == newip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getdnsip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ "$newip" != "$dnsip" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateforyou&nbsp;&nbsp;&nbsp; # just update for you</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sleep 3</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iptablesrule&nbsp;&nbsp;&nbsp; # just reflush iptables rule</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit 0</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; fi</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1>#====================== SHARE IP MECHANIME job 3 ======================</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; if [ "$jobs" == "3" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 1. Get the older IP and newer IP</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oldip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newip=`lynx -dump "http://www.adsldns.org/login.php?email=$email&amp;passwd=$password"| grep 您好|cut -d":" -f2|sed 's/ .*$//g'`</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 2. compare with older IP and newer IP. And e-mail to you</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ "$newip" != "$oldip" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mailtoyou&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # just mail to you</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateforyou&nbsp;&nbsp;&nbsp; # just update for you</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sleep 3s</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iptablesrule&nbsp;&nbsp;&nbsp; # just reflush iptables rule</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</FONT> </P>
<P><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 3. check if the DNS name == newip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getdnsip</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ "$newip" != "$dnsip" ]; then</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateforyou&nbsp;&nbsp;&nbsp; # just update for you</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sleep 3</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iptablesrule&nbsp;&nbsp;&nbsp; # just reflush iptables rule</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit 0</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp; fi</FONT></P></TD></TR></TBODY></TABLE>　 <BR>上面的 script 您可以在 <A href="http://linux.vbird.org/download/index.php#ping_net_card" target=_blank>http://linux.vbird.org/download/index.php#ping_net_card</A> 下载，至于安装的方法就相当的简单啦！您只要下载该 script ，然后将他移动到适当的目录之下，修改一下上面显示粗体字的地方，然后再修改您的 /etc/crontab ！嘿嘿！那就成功！ <BR>　 
<TABLE cols=1 width=650 bgColor=#000000 border=1>
<TBODY>
<TR>
<TD><FONT face=SimSun color=#ffffcc size=-1>1. 下载 script 并移动到适当的目录：</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test root]# </FONT><FONT color=#ffff00>wget http://linux.vbird.org/download/vbird/ping_net_card.sh</FONT></FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test root]# </FONT><FONT color=#ffff00>mkdir -p /usr/local/pingcard</FONT></FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test root]# </FONT><FONT color=#ffff00>cp ping_net_card.sh /usr/local/pingcard</FONT></FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test root]# </FONT><FONT color=#ffff00>chmod 744 /usr/local/pingcard/ping_net_card.sh</FONT></FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test root]# </FONT><FONT color=#ffff00>vi /usr/local/pingcard/ping_net_card.sh</FONT></FONT> <BR><FONT face=SimSun color=#ff6666 size=-1># 这个时候进入 vi 的画面，请依照您的需求来修改 INPUT 的部分！</FONT> <BR><FONT face=SimSun color=#ffff99 size=-1>　</FONT> <BR><FONT face=SimSun color=#ffffcc size=-1>2. 修改 crontab&nbsp;</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>[root@test root]# vi /etc/crontab</FONT> <BR><FONT face=SimSun color=#ff6666 size=-1># ....新增加一行：</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>*/3 * * * * root /usr/local/pingcard/ping_net_card.sh</FONT></TD></TR></TBODY></TABLE>　 <BR>嘿嘿！这样一来，如果您的主机不正常的断电之后，在三分钟之内就会自动的拨接，此外，还会自动的上网去更新您的 DNS 主机名称！还会 e-mail 到您的信箱去！告诉您最新的 IP 是什么！哈哈！简不简单呀！？ ( 注：因为我没有 cable modem ，所以在 cable 的部分我是经由网友回报而做成的 script ！此外，我也没有 IP 分享器！所以第三个 jobs=3 还没有测试过！无论如何， jobs=1 是完全没有问题的！此外，针对朋友们常常发生的 lynx 没有安装的问题，这是我也先将他写了一个小小的检查档案，可以告诉朋友们！嘿！您的 lynx 安装了没？！ ) <BR>　 <BR>
<HR width="100%">
<A name=need_dynamic_noip></A><FONT color=#000099>动态 DNS -- http://www.no-ip.com</FONT> <BR>　 <BR>除了 www.adsldns.org 之外，我们还有其它的选择，那就是 no-ip 这家公司所提供的免费动态 DNS 系统啦！申请的方法如下： <BR>　 
<OL>
<LI><FONT color=#000099>登入主网页：</FONT> <BR>在如下的图示当中，因为我们要注册一个新的网域，所以就给他选择如下的『<FONT color=#000066>Sign-up-Free!</FONT>』那一项： <BR><IMG height=171 src="61_files/no-ip-01[1].jpg" width=503 nosave=""> <BR>　 
<LI><FONT color=#000099>填写主要的识别数据：</FONT> <BR>因为 no-ip 会发给您一份密码，所以在出现的如下画面中，您必须要填写『<FONT color=#000066>一个可以收到邮件的合法 Email</FONT> 』，以及您的身份确认数据，这很重要，因为后续的数据都是使用您注册时的这个咚咚龋∪缓笤侔聪伦畹紫碌摹<FONT color=#000066>SIGN UP NOW</FONT>』即可！ <BR><IMG height=621 src="61_files/no-ip-02[1].jpg" width=362 border=1 nosave=""> <BR>按下 SIGN UP NOW 而且出现如下画面，就是已经注册成功啦！ <BR><IMG height=170 src="61_files/no-ip-03[1].jpg" width=504 nosave=""> <BR>这个时候，请立刻以刚刚注册用的 email 来收信，应该就会收到来自 no-ip 公司的密码确认信，请记取上面的密码，我们准备要来登入了！ <BR>　 
<LI><FONT color=#000099>登入 no-ip ：</FONT> <BR>用我们刚刚注册时的 Email 以及 密码 来登入 no-ip 了！ <BR><IMG height=166 src="61_files/no-ip-04[1].jpg" width=500 nosave=""> <BR>正确的登入之后会在画面左手边出现如下的图样： <BR><IMG height=340 src="61_files/no-ip-05[1].jpg" width=176 border=1 nosave=""> <BR>　 
<LI><FONT color=#000099>注册使用新的 HOSTNAME 去：</FONT> <BR>好了，同样的来设定一下我们所需要的主机名称吧！在上面的图示当中，请按下『Add』来新增我们的主机名称： <BR><IMG height=564 src="61_files/no-ip-06[1].jpg" width=466 border=1 nosave=""> <BR>注意一下，您只要填入 Hostname, Host Type, IP Address 即可！至于那个 MX Record 等到未来谈到 Mail Server 时，您再来选填吧！填完了三个信息之后，直接给他按下『<FONT color=#000066>Create Host</FONT>』即可！这样就可以新增一个主机名称了！如果您还想要了解其它功能的话，可以在步骤三的地方按下『Manage』就能够删除、编辑您的 no-ip 主机名称咯！ ^_^ <BR>&nbsp;</LI></OL>OK！既然我们又是需要使用动态 DNS 的系统，所以自然又是需要其它的程序的辅助！在这里， no-ip 提供了我们一个很良好的程序来更新我们的 domain 呢！真棒！您可以这样做： <BR>　 
<TABLE cols=1 width=650 bgColor=#000000 border=1>
<TBODY>
<TR>
<TD><FONT face=SimSun color=#ffffcc size=-1>0. 下载档案：</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test root]#</FONT><FONT color=#ffff00> wget http://www.no-ip.com/client/linux/noip-2.0.12.tar.gz</FONT></FONT> <BR><FONT face=SimSun color=#ff6666 size=-1># 或者到鸟哥的网站下载</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test root]#</FONT><FONT color=#ffff00> wget http://linux.vbird.org/download/linux_server/noip-2.0.12.tar.gz</FONT></FONT> <BR><FONT face=SimSun color=#ffffff size=-1>　</FONT> <BR><FONT face=SimSun color=#ffffcc size=-1>1. 解压缩并且编译及安装</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test root]#</FONT><FONT color=#ffff00> cd /usr/local/src</FONT></FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test src]# </FONT><FONT color=#ffff00>tar -zxvf /root/noip-2.0.12.tar.gz</FONT></FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test src]#</FONT><FONT color=#ffff00> cd noip-2.0.12</FONT></FONT> <BR><FONT face=SimSun color=#ff6666 size=-1># 注意一下，这个目录里面有个文件名为 README.FIRST 的档案，请务必察看一下内容！</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test noip-2.0.12]#</FONT><FONT color=#ffff00> make &amp;&amp; make install</FONT></FONT> <BR><FONT face=SimSun color=#ff6666 size=-1># 这样会将主程序安装在 /usr/local/bin/noip2 而主参数档放在</FONT> <BR><FONT face=SimSun color=#ff6666 size=-1># /usr/local/etc/no-ip2.conf 当中！</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>　</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>Auto configuration for Linux client of no-ip.com.</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>　</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>Multiple network devices have been detected.</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>　</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>Please select the Internet interface from this list.</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>　</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>By typing the number associated with it.</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eth0</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ppp0</FONT> <BR><FONT face=SimSun size=-1><B><FONT color=#ffff00>1&nbsp;</FONT></B><FONT color=#ff6666>&nbsp; &lt;==这里请输入您是使用那一个接口连接到 Internet 的？</FONT></FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>Please enter the login/email string for no-ip.com&nbsp; </FONT><B><FONT color=#ffff00>kiki@yahoo.com.tw</FONT></B></FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>Please enter the password for user 'kiki@yahoo.com.tw'&nbsp;</FONT><FONT color=#ffff00> ************</FONT></FONT> <BR><FONT face=SimSun color=#ffffff size=-1>　</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>Only one host [<B>kiki.no-ip.org</B>] is registered to this account.</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>It will be used.</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>Do you wish to run something at successful update?[N] (y/N)&nbsp; </FONT><B><FONT color=#ffff00>n</FONT></B></FONT> <BR><FONT face=SimSun color=#ffffff size=-1>　</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>New configuration file '/tmp/no-ip2.conf' created.</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>　</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>mv /tmp/no-ip2.conf /usr/local/etc/no-ip2.conf</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>　</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test noip-2.0.12]#</FONT><FONT color=#ffff00> /usr/local/bin/noip2</FONT></FONT> <BR><FONT face=SimSun color=#ff6666 size=-1># 这样就可以让您的 noip2 自动的更新您的数据！ ^_^</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>　</FONT> <BR><FONT face=SimSun color=#ffffcc size=-1>3. noip2 的语法简介</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test root]# </FONT><FONT color=#ffff00>noip2 [-CS]</FONT></FONT> <BR><FONT face=SimSun color=#ff6666 size=-1>参数说明：</FONT> <BR><FONT face=SimSun color=#ffffcc size=-1>-C ：重新设定参数，亦即设定刚刚我们上面输入粗体字的咚咚！</FONT> <BR><FONT face=SimSun color=#ffffcc size=-1>　　 如果您有两个以上的 no-ip 主机名称时，就一定需要使用 noip2 -C 来重新设定参数档案！</FONT> <BR><FONT face=SimSun color=#ffffcc size=-1>-S ：将目前的 noip2 的状况显示出来！</FONT> <BR><FONT face=SimSun color=#ffffcc size=-1>如果不加任何参数，就是将 noip2 直接常驻在内存里面！(变成 daemon ！)</FONT> <BR><FONT face=SimSun color=#ff6666 size=-1>范例：</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test root]# </FONT><FONT color=#ffff00>noip2 -S</FONT></FONT> <BR><FONT face=SimSun color=#ffffff size=-1>Process 32632, started as /usr/local/src/noip-2.0.12/noip2</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>Using configuration from /usr/local/etc/no-ip2.conf</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>Last IP Address set 140.116.142.213</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>Account kiki@yahoo.com.tw</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>configured for:</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; host&nbsp; kiki.no-ip.org</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>Address check every 1 minute, directly connected via /dev/ppp0.</FONT> <BR><FONT face=SimSun color=#ff6666 size=-1># 瞧！上面显示的就是您注册时的一些相关讯息喔！</FONT> <BR><FONT face=SimSun color=#ffffff size=-1>　</FONT> <BR><FONT face=SimSun color=#ffffcc size=-1>4. 设定开机时启动 noip2</FONT> <BR><FONT face=SimSun size=-1><FONT color=#ffffff>[root@test root]#</FONT><FONT color=#ffff00> vi /etc/rc.d/rc.local</FONT></FONT> <BR><FONT face=SimSun color=#ff6666 size=-1># 加入底下这一行：</FONT> <BR><FONT face=SimSun color=#ffff00 size=-1>/usr/local/bin/noip2</FONT></TD></TR></TBODY></TABLE>　 <BR>如此一来，呵呵！一开机就会启动 noip2 ，而且还能够重新设定参数 ( noip2 -C ) 也可以观察 noip2 的工作状态！真的是很方便的啦！ ^_^</UL>
<HR width="100%">
<A name=reference></A><FONT color=#000099 size=+1>参考数据</FONT>： 
<UL>
<LI><FONT color=#000066>台湾网络信息中心：<A href="http://www.twnic.net/" target=_blank>http://www.twnic.net/index3.php</A></FONT> 
<LI><FONT color=#000066>国外的领域名称系统：<A href="http://www.netsol.com/" target=_blank>http://www.netsol.com/</A></FONT> 
<LI><FONT color=#000066>国外的领域名称系统：<A href="http://www.dotster.com/home/" target=_blank>http://www.dotster.com/</A></FONT> 
<LI><FONT color=#000066>荻恩斯科技：<A href="http://kevin.adsldns.org/" target=_blank>http://kevin.adsldns.org</A></FONT> 
<LI><FONT color=#000066>台湾地区免费动态DNS系统(中文)：<A href="http://www.adsldns.org/service.php" target=_blank>http://www.adsldns.org</A></FONT> 
<LI><FONT color=#000066>国外的免费 DNS 系统：<A href="http://www.no-ip.com/" target=_blank>http://www.no-ip.com</A></FONT> </LI></UL>
<HR width="100%">
<A name=ex></A><FONT color=#000099 size=+1>课后练习</FONT> 
<UL>
<LI>请简易说明 /etc/hosts 的用途； 
<LI>请说明『合法授权』的主机名称需要做什么？ 
<LI>什么是动态 DNS 系统？(仅说明 client 端) 
<LI>如果您使用 adsl 拨接来上网设定服务器，那么该申请哪一类型的主机名称？为什么？ <BR><A href="http://linux.vbird.org/linux_server/1000results.php#0270dynamic_dns">前往参考解答</A></LI></UL>
<CENTER><FONT face=SimSun color=#3333ff size=+1><A href="http://linux.vbird.org/linux_server/0270dynamic_dns.php" target=_self>申请合法的主机名称</A></FONT></CENTER>
<HR width="100%">
<FONT face=SimSun color=#000066 size=-1>2002/08/05：第一次完成日期！</FONT> <BR><FONT face=SimSun color=#000066 size=-1>2003/08/26：修改篇名、增加一 <A href="#need_dynamic_noip">no-ip 的设定方式</A>！</FONT> <BR>
<HR width="100%">
<FONT face=SimSun color=#3333ff size=-1>2002/08/05 以来统计人数</FONT> <BR><IMG height=15 src="61_files/Count[9].gif" width=60 align=middle nosave="">
<HR width="100%">
 
<CENTER><A href="http://linux.vbird.org/" target=_top><IMG height=25 src="61_files/VBirdTitle2[10].jpg" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/linux_basic"><IMG height=25 src="39_files/icon_system[3].gif" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/linux_server"><IMG height=25 src="55_files/icon_server[13].gif" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/linux_security"><IMG height=25 src="71_files/icon_security[10].jpg" width=90 border=0 nosave=""></A> <A href="http://phorum.vbird.org/" target=_blank><IMG height=25 src="60_files/icon_forums[10].gif" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/adsl"><IMG height=25 src="50_files/icon_adsl[13].gif" width=90 border=0 nosave=""></A> <BR><FONT color=#000066 size=-1>Designed by <A href="mailto:vbird@tsai.adsldns.org">VBird</A> during 2001-2004.&nbsp; Aerosol Lab.</FONT></CENTER></BODY>