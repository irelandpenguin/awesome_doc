<HEAD><TITLE>鸟哥的 Linux 私房菜 -- 局域网络架构简介</TITLE>
<META http-equiv=Content-Type content="text/html; charset=gb2312">
<META content=VBird name=Author>
<META content="Mozilla/4.5 [zh-TW] (WinNT; I) [Netscape]" name=GENERATOR><!-- saved from url=(0022)http://internet.e-mail -->
<STYLE>
   <!--
   body{background-image=url("53_files/VBirdLinux[1].jpg");background-ATTACHMENT=FIXED}
   -->
</STYLE>
</head>
<BODY style="CURSOR: auto" background="53_files/VBirdLinux[8].jpg" nosave="">
<CENTER>
<CENTER><B><FONT color=#3333ff size=+2><FONT face=SimSun>鸟哥的</FONT><FONT face="Times New Roman,Times"> Linux </FONT><FONT face=SimSun>与</FONT><FONT face="Times New Roman,Times"> ADSL </FONT><FONT face=SimSun>私房菜</FONT></FONT></B> <BR><A href="http://linux.vbird.org/" target=_top><IMG height=25 src="61_files/VBirdTitle2[10].jpg" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/linux_basic"><IMG height=25 src="39_files/icon_system[3].gif" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/linux_server"><IMG height=25 src="55_files/icon_server[13].gif" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/linux_security"><IMG height=25 src="71_files/icon_security[10].jpg" width=90 border=0 nosave=""></A> <A href="http://phorum.vbird.org/" target=_blank><IMG height=25 src="60_files/icon_forums[10].gif" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/adsl"><IMG height=25 src="50_files/icon_adsl[13].gif" width=90 border=0 nosave=""></A> <BR>
<HR width="100%">
</CENTER><FONT face=SimSun color=#3333ff size=+2><A href="http://linux.vbird.org/linux_server/0120intranet.php" target=_self>局域网络架构简介</A></FONT></CENTER>
<DIV align=right><FONT face=SimSun color=#3333ff size=-1>最近更新日期：2003/09/19</FONT></DIV><FONT color=#000099 size=-2>　</FONT> 
<TABLE cols=1 width="100%" bgColor=#ffcccc border=1>
<TBODY>
<TR>
<TD><FONT color=#000099 size=-1>在前面『<A href="http://linux.vbird.org/linux_server/0110network_basic.php">网络基础</A>』章节当中，我们介绍了比较多的理论方面的网络相关信息，也大略的介绍了一些简单的联机媒体需要注意的事项。不过，在我们一般接触的到环境中，其实大多是属于较小型的局域网络，例如 SOHO 族与中小型企业的环境等等，就是一个比较小型的网络环境。所以，理解了网络基础之后，再来则是需要活用他啦！在常见的小型网域当中，我们应该如何建立起一个内部的私有网域呢？底下我们就先来谈一谈使用星形联机建立起来的网络环境当中，到底应该如何设定会比较妥当！不过，要留意的是，这个章节的环境主要是针对 Windows 的系统，针对 Linux 的网络环境设定，则在下一个章节当中才会介绍的！</FONT></TD></TR></TBODY></TABLE><FONT color=#000099 size=-2>　</FONT> <BR><FONT color=#000099 size=+1><A href="#connect">如何联机</A></FONT> <BR><FONT color=#000099>　　：<A href="#connect_hardware">常见的硬件联机方式</A></FONT> <BR><FONT color=#000099>　　：<A href="#connect_buy">联机装置与材料的选购注意事项</A></FONT> <BR><FONT color=#000099>　　：<A href="#connect_net_parameters">内部联机的网络参数</A></FONT> <BR><FONT color=#000099>　　：<A href="#connect_protocol">要安装哪些通讯协议</A></FONT> <BR><FONT color=#000099 size=+1><A href="#methods">网络联机的方式</A></FONT> <BR><FONT color=#000099 size=+1><A href="#windows">Windows 个人计算机的设定</A>：</FONT> <BR><FONT color=#000099>　　：<A href="#windows_win2k">Windows 2000</A></FONT> <BR><FONT color=#000099>　　：<A href="#windows_win98">Windows 98</A></FONT> <BR><FONT color=#000099>　　：<A href="#windows_winxp">Windows XP</A></FONT> <BR><FONT color=#000099 size=+1><A href="#ex">课后练习</A>：</FONT> <BR>
<HR width="100%">
<A name=connect></A><FONT color=#000099 size=+1>如何联机</FONT> 
<UL><FONT color=#000000>谈完了<A href="http://linux.vbird.org/linux_server/0110network_basic.php">网络基础</A>后，也大致上了解了一些<A href="http://linux.vbird.org/linux_server/0110network_basic.php#net_media">硬件选购</A>的思考方法，现在就让我们实际的来将家里或者小型企业内部的全部计算机给他连接起来吧！当然啦，我们这里主要介绍的是小型局域网络的架构，如果是比较大型的企业内部，这样的架构就显的有点简略了～无论如何，先来将所有的网络硬件联机起来吧！</FONT> <BR><FONT color=#000000>　</FONT> <BR>
<HR width="100%">
<A name=connect_hardware></A><FONT color=#000099>常见的硬件联机方式</FONT> <BR><FONT color=#000000>　</FONT> <BR><FONT color=#000000>由于网络媒体可以支持的最大流量，以及网络的除错容易度，目前以直线汇流 ( Bus ) 形式的网络架构已经很少见了！取而代之的是目前比较常见的 </FONT><FONT color=#000066>星形联机</FONT><FONT color=#000000> 方式，也就是藉由 Hub 或 Switch 作为所有 PC 与主机的联机媒体，来将所有的设备装置连接在一块的一种联机形式。此外，目前一般小型企业以及家庭内部，通常还是以 ADSL 这个目前最流行而且较为便宜的上网方式来连接 Internet ，所以底下我们介绍的连接情况主要是以 ADSL 连接上 </FONT><FONT color=#000066>ISP ( Internet Service Provider )</FONT><FONT color=#000000> 的架构为主。另外，并不是所有的朋友都有多部计算机，所以底下也有介绍单部计算机连上 Internet 的联机型态。当然，还包含了 Linux 主机是否具有两块网络卡以上的连接方式，这都具有不一样的硬件联机型态。底下列出三种常见的联机方式，附带一提，鸟哥个人最喜欢第三种形式！当然，您不见得一定要跟我一样吧？！ ^_^</FONT> <BR><FONT color=#000000>　</FONT> 
<UL>
<LI><A name=fig_1></A><FONT color=#000066>直接连上 Internet ，只有 Linux 主机：</FONT> <BR><IMG height=179 src="53_files/0120intranet_1[1].jpg" width=366 border=0 nosave=""> <BR><FONT color=#000066>图一、单部 Linux 主机连接上网的型态</FONT> <BR>　 <BR>在这样的联机型态当中，当然仅适合仅有单部计算机的环境。不过，为了考虑未来的扩充性，鸟哥个人挺建议在 Linux 与调制解调器之间多加一个 Hub/Switch 的装置，因为谁也不知道什么时候您的朋友突然间拿了部 Notebook 计算机到您的家里作客是吧！ ^_^，如果有个 Hub/Switch 的话，那么只要您朋友的计算机接上 Hub/Switch ，呵呵！您就可以跟朋友玩联机游戏啦！ <BR>　 
<LI><A name=fig_2></A><FONT color=#000066>以 Hub/Switch 连接，并且 Linux 主机仅有一块网络卡：</FONT> <BR><IMG height=179 src="53_files/0120intranet_2[1].jpg" width=509 border=0 nosave=""> <BR><FONT color=#000066>图二、单部 Linux 主机配合多个 client ，且 Linux 仅有一张网络卡</FONT> <BR>　 <BR>这样的情况是比较适合小型的局域网络的，亦即以一部 Linux 做为局域网络内的主机，这部主机主要负责的是打印机、扫描仪....等等内部网域常常用到的装置，由于 Linux 较稳定，所以 24 小时全年无修的开机也无妨，而 Windows PC 可以视为 Linux 的 Client 。不过，这样的联机状态当中， Linux 与 Client 计算机 (Windows PC) 是在同一个网络连接等级里面的喔！因为 Linux 可以透过调制解调器联机到 Internet ，而 Windows PC 也可以利用自己本身的设定 ( 不论是拨接还是直接设定 ) 来连接上 Internet，也就是说， Windows 并不一定要藉由 Linux 做为 <FONT color=#000066>NAT ( Network Address Translation )</FONT> 服务器才能够对外联机的！ <BR>　 <BR>这样的设定是有利有弊的，先谈一谈有利的部分：万一哪一天您的 Linux 刚好出了点小问题，那么 Client 就可以自己进行拨接或者网络设定好之后就可以来对外联机，而不需要透过 Linux 的协助。不巧的，这个设定方式的缺点也是在这个地方，因为您也不太清楚到底哪一部 Client 会自己设定好之后就对外联机，所以局域网络内外 ( 指内部私有网络与 Internet ) 并没有明显的分开来，所以对于内部网域的控管来说，这样的架构无疑是不可信的，例如防火墙的效力就会大打折扣，因为来自 Internet 的封包不一定会经过防火墙而直接进入 Client 端的计算机，而您也无法控管员工的对外联机。 <BR>　 
<LI><A name=fig_3></A><FONT color=#000066>以 Hub/Switch 连接，并且 Linux 主机具有两块网络卡：</FONT> <BR><IMG height=179 src="49_files/0110network_basic_1[1].jpg" width=474 border=0 nosave=""> <BR><FONT color=#000066>图三、单部 Linux 主机配合多个 Client，且 Linux 主机具有多张网络卡</FONT> <BR><FONT color=#000000>　</FONT> <BR><FONT color=#000000>这个架构是更适合中小型企业的局域网络设定。仍然是以一部 Linux 主机做为网络服务提供者，这可以包含档案服务器、邮件服务器、以及装置分享服务器等等，而所有的 Client 必须要经过这部 Linux 主机提供的服务 ( 其实就是 NAT 服务器 ) 才能够进入 Internet 。这样的架构对于内部的 LAN ( Local Area Network )来说是最好控管的，因为来自外部 ( Internet ) 与来自内部 (局域网络内) 的封包都必须要经过 Linux 这部主机，所以您可以很轻易的就管理好封包的过滤，只要在 Linux 主机上面设定好防火墙的规则机制，就能将内外网络分开来，对于内部的计算机就具有比较好的防护功能。在这样的架构中，您的 Linux 主机就必须要具有两张以上的网络卡！这也是鸟哥我比较喜好的一种联机型态。</FONT> <BR><FONT color=#000000>　</FONT></LI></UL><FONT color=#000000>在上面的联机图示当中，调制解调器连接到 ISP 右边的装置均是由 ISP 所提供的，以及非本地端的外部的 Internet 环境，所以我们不需要理他！要注意的是调制解调器左边的装置！如果您仅有单部计算机，那么不需要怀疑，只要选择<A href="#fig_1">图一</A>的型态也就可以了！而如果您是与朋友一起租用 ADSL 的话，也就是您的计算机与您朋友的计算机是同一个等级的，那么或许<A href="#fig_2">图二</A>的联机会比较适合您的环境。当然啦，如果您具有完全控制 ADSL 的权力 ( 就是说，钱是您缴的啦！^_^ ) ，那么我个人会比较建议使用<A href="#fig_3">图三</A>的联机型态，因为内外分开来，除了网络较为安全之外，内部的流量也比较不容易受到外部的干扰～</FONT> <BR><FONT color=#000000>　</FONT> <BR>
<HR width="100%">
<A name=connect_buy></A><FONT color=#000099>联机装置与材料的选购注意事项</FONT> <BR><FONT color=#000000>　</FONT> <BR><FONT color=#000000>在开始底下的介绍之前，您必须要对于跳线、并行线、RJ-45 网络线、Hub/Switch 的优劣等等有一定程度的了解，请再前往<A href="http://linux.vbird.org/linux_server/0110network_basic.php#net_media">网络基础</A>看一看。此外，在非我们局域网络内的设备，例如调制解调器，那就得向您的 ISP 询问了！一般来说，调制解调器是中华电信提供给用户的，然而由于『</FONT><FONT color=#000066>中华电信因为不同批次安装的调制解调器模块不同，所以会有不一样的连接与线材处理方式！</FONT><FONT color=#000000>』例如早期的调制解调器 (有的朋友会称 ADSL 调制解调器为小乌龟 ) 连接到计算机的网络卡是使用跳线，但是近期的调制解调器却使用的是一般的并行线！所以请特别向您的 ISP 询问才行。底下主要针对局域网络内的网络媒体来进行介绍与说明。</FONT> <BR><FONT color=#000000>　</FONT> 
<UL>
<LI><B><FONT color=#000066>关于网络卡</FONT></B><FONT color=#000000>：在每部计算机当中总是需要网络卡的吧( 目前我们均以 ADSL 及 Cable modem 为说明，对于使用传统 56 K 调制解调器拨接上网的朋友.....那就抱歉了 ^_^&nbsp; ) ，所以这个时候就得要针对网络卡来要求一下！基本上，在 Linux 的主机部分，如果要玩大的 ( 就是说还要玩架站，或者是您的区网流量特大时 ) ，就直接买一块 10/100 Mbps 的 Intel 或 3Com 的网卡 ( 一块要上千元 )，如果是一般家用的，那么就直接买 10/100 Mbps 的螃蟹卡就对了( 一块 200~500 元不等 )！那么什么是螃蟹卡呢？简单的说，就是在大卖厂里面摆在最外面的而且一不小心还会被踢到的，一块只要 200 ~ 300 元的网络卡就对了！其实他的芯片组称为</FONT><FONT color=#000066> RealTek 8139 </FONT><FONT color=#000000>，因为他的芯片外面的图形有点像是螃蟹，所以俗称螃蟹卡！那如果是 Windows 的话，就可以考虑 D-Link 的 530 这块卡！</FONT><I><FONT color=#000066>请注意：如果要玩 Linux 又想比较顺畅的玩弄 Linux 时，请不要坚持使用 Linux 捉不到的网络卡！否则那份失望的心情 ......唉</FONT></I><FONT color=#000000>！！反正要点就是一定需要可以自动辨识 10/100 Mbps 流量的，并且是 PCI 插槽接口的也就可以了。</FONT> <BR><FONT color=#000000>　</FONT> 
<LI><B><FONT color=#000066>关于 Hub/Switch </FONT></B>：就如同 <A href="http://linux.vbird.org/linux_server/0110network_basic.php">网络基础</A> 里面提到的，如果<FONT color=#000000>您</FONT>只是一般的家庭使用，而且<FONT color=#000000>您</FONT>的计算机数量不超过 4 部的话，则 Hub 可以选择很便宜的五孔的那一种 ( 一个大概只要 500-600 元 ) ，但是如果<FONT color=#000000>您</FONT>是一个宿网，而且<FONT color=#000000>您</FONT>们同学之间常常有大流量的文件传输 ( 例如由 PC1 传到 PC2 ) ，为了增加传输的效率，个人是建议使用<FONT color=#000066>可以自动分辨 10/100Mbps 的集线器或者是 switch </FONT>来使用，因为他的传输速率是一般 10Mbps 的10倍！并且需要考虑到分享的计算机数，来选择 5, 8 还是 16 孔的呦！( <I>注：请注意『可以自动分辨』这几个大字，这是因为有的 Hub/Switch 仅能支持 10 或 100 Mbps，无法自动分辨，则此时会产生很大的困扰，那就是由于网络设备是以『最低流量的那个装置为准则』，所以若是<FONT color=#000000>您</FONT>的区网中有一台计算机的网络卡是 10 Mbps 的，则当<FONT color=#000000>您</FONT>选择无法自动分辨的 Hub/Switch 时，那么所有的计算机将都只能跑 10 Mbps ！呵呵！了解了吗？！</I> )。不过，以目前的消费水平以及考虑未来的扩充性，选择一款 Switch 是相当值得的，因为目前 Switch 的价格已经压到与 Hub 差不多了，是可以购买的时机。此外，考虑方便性的问题，<FONT color=#000066>建议选购具有 N-Way 的 Switch</FONT> ，由于所谓的 N-Way 就是指 Switch 会自动的分辨并行线与跳线，而自动切换的模式，如此一来将可不必考虑并行线与跳线的问题呢。 <BR>　 
<LI><B><FONT color=#000066>关于网络线</FONT></B>：就如同前面<A href="http://linux.vbird.org/linux_server/0110network_basic.php#net_media">网络基础</A>说过的，这个是特别需要注意的地方。如果您不是使用可以自动切换模式的 N-Way Hub/Switch 的话，那么一般来说，在上面的<A href="#fig_3">图三</A>中，由<FONT color=#000066> PC1 ~ PC3 连接到 Hub/Switch 的网络线都是并行线 </FONT>，而<FONT color=#000066>由 Linux 主机接到 ADSL 调制解调器的线段则通常使用跳线</FONT>！但是却又不一定！因为在后来感谢网友的回应，发现到有的 Linux 主机到 ADSL 调制解调器之间使用的竟然是并行线 ！哇！真是伤脑筋！那么如何确定<FONT color=#000000>您</FONT>的联机是正确的呢？嗯！有个最简单的方法，就是：<FONT color=#000000>您</FONT>的 Hub/Switch 上面的每个插孔不是都有灯号吗？此外，<FONT color=#000000>您</FONT>的 ADSL 调制解调器当中那个 LAN 的插孔也有灯号对吧！呵呵，那么『<FONT color=#000066>确定联机正确与否的方法，就是确定每个设备在启动之后 ( 插上电源并且将 PC 开机 ) 每个设备的灯号都是亮的！</FONT>』如果不亮的话，那么就肯定有问题，这个时候请换一条网络线，或者是将并行线 <FONT face=SimSun>&lt;==&gt;</FONT> 跳线 变换一下试试看，通常就可以正确的让 Hub/Switch 及 调制解调器 的灯号亮！ <BR>　 
<LI><B><FONT color=#000066>关于主机的相关总线</FONT></B>：这是个与网络媒体比较没有关系的需要注意的主机项目，由于目前扩充式装备比较多，例如打印机、扫描仪、鼠标、键盘与外接式硬盘等等，很多都是使用 USB 的接口，那个 USB 的接头是扁扁的，在您的主机后面一般都可以见到这个插槽。不过，目前的 USB 有两种速度，分别是 USB 1.1 与 USB 2.0 ，这两种规格 USB 的传输速度相差了也不止 10 倍！如果您的 Linux 主机上面的 USB 接口是 2.0 的话，那么将装置分享给 client 端时，这样的速度在区网内比较能够快速的进行，如果是 USB 1.1 的话，那么在区网内的速度限制就不是在网络，而是在 USB 这个接口的传输上了！所以，作为所有 Client 连接上来的 Linux Server ，除了需要考虑的网络媒体本身的传输之外，还得要注意到 Linux Server 本身的内部传输速度，免得网络速度是够了，但是由于硬盘传输或者是 Linux 主机本身所具有的总线传输速度太慢，导致整个局域网络内传输效能的低落喔！ </LI></UL><FONT color=#000000>　</FONT> <BR>
<HR width="100%">
<A name=connect_net_parameters></A><FONT color=#000099>内部联机的网络参数</FONT> <BR><FONT color=#000000>　</FONT> <BR>除了<A href="#fig_1">图一</A>的联机型态是 Linux 主机直接联机，且不需要分享网络频宽给 Clients 之外，<A href="#fig_2">图二</A>与<A href="#fig_3">图三</A>的状态都是以 Linux 做为网络频宽分享的主机来分享网络的，所以，各计算机之间是以 Hub 或 switch 作为联机的接口，然后跟 Linux 主机之间连接后，以 Linux 的 NAT 或 Proxy 服务器分享的方式，透过固定IP的学术网络，或者是自家的 ADSL 调制解调器来连上 Internet。所以，基本上主机是 『 <FONT color=#000066>需要两个网络接口</FONT> 』 的，而且其中一个接口是与内部网络联机的，这个内部网络通常是使用私有 IP ( Private IP ) 来进行联机沟通的！我们比较常使用的保留 IP 是在 192.168.0.0 到 192.168.255.255 这一段 ( C Class )，以鸟哥为例，个人是比较喜欢 192.168.1.0～192.168.1.255 这一段的网络，没有任何原因，单纯是因为喜欢！呵呵！另外一个接口就是 ISP 提供的具有公共 IP ( Public IP ) 的接口了。那么为什么我说的是『两个网络接口』而不是『两张网络卡』呢？原因很简单，<FONT color=#000066>因为一张网络卡可以设定多个 IP 啊</FONT>！因此，在 Linux 当中一张网络卡可以具有一个以上的 IP 呢！由于一个 IP 即为一个网络接口，因此只要两个网络接口 ( 不论有几张网络卡 ) 即可进行 NAT 的设定啦！所以自然一个网络卡即可！不过，我个人还是比较喜欢两张网络卡的啦！ <BR>　 <BR>除了这个需要注意的地方之外，我们在 <A href="http://linux.vbird.org/linux_server/0110network_basic.php">网络基础</A> 当中也提到，一组网络参数应该具有『<FONT color=#000066>IP, Network, Netmask, Broadcast, Gateway</FONT> 』等几个参数，此外，在 LAN 里面的计算机，亦即在同一个网域内的计算机群，除了 IP 不一样之外，其它的参数应该都是一样的！尤其那个重要的 Gateway ！所以说，为了让 LAN 的计算机可以直接沟通，订定一组网络参数是重要的！这里我以<A href="#fig_3">图三</A>为例，说明我选择的网络参数架构： <BR>　 
<OL>
<LI><FONT color=#000066>在内部私有网域的计算机中，亦即 PC1, PC2, PC3 及 Linux 主机的内部接口 ( 反正就是在图三中透过 Hub/Switch 连接的网络卡接口 ) ，必须使用同一个网段，如此则这四个网络接口就可以直接沟通啦！例如 Linux 内部网络接口的 IP 设定为 192.168.1.2 ，而 PC1 为 192.168.1.11, PC2: 192.168.1.12, PC3: 192.168.1.13 ；</FONT> 
<LI><FONT color=#000066>Netmask 均为 255.255.255.0 ( C Class ), Network: 192.168.1.0, Broadcast: 192.168.1.255；</FONT> 
<LI><FONT color=#000066>内部私有网域的计算机 ( PC1 ~ PC3 ) 的 gateway 均为 192.168.1.2 ，在 Linux 架设好相关的服务器设定后，如此则四张网络接口可以直接沟通之外， PC1 ~ PC3 可透过 Linux 来传送数据封包呢！</FONT> 
<LI><FONT color=#000066>如果未来还需要再增加 PC，那么其 IP 可以设定在 192.168.1.1 ~ 192.168.1.254 之间即可！</FONT> </LI></OL>
<P><BR></P>
<HR width="100%">
<A name=connect_protocol></A><FONT color=#000099>要安装哪些通讯协议</FONT> <BR>　 <BR>什么是通讯协议呢？简单的说，通讯协议就是一些标准与规则。一个社会要能够正常的运作，必须要有一套标准与公正的游戏规则，大家都遵循这个规则，那么这个社会才能够没有问题的营运下去，所以我们才会有警察、司法、检调单位等等来维护我们的公正性。同样的，在网络的社会中，要让数据能够透过网络媒体传送，那么硬件制造商、软件开发商，就必须要共同遵循同一套标准，这样整个网络社会才能够正常无误的进行数据的传递。 <BR>　 <BR>目前网络社会最通用的通讯协议就是 TCP/IP 了！TCP/IP 订定了 IP 基础与路由协议等信息，让我们的网络世界可以互通有无，此外，在局域网络内部，由于是小型的网域，事实上还可以透过简单的通讯协议来达到数据传输的目的，例如 <FONT color=#000066>NetBEUI</FONT> 就是一个常见的简易通讯协议。 <BR>　 <BR>在 Linux 系统当中，只要将网络参数设定妥当，那么 TCP/IP 就已经被启用了，所以您不需要额外的再安装其它的通讯协议。不过，如果您需要将<FONT color=#000000>您</FONT>的 Linux 系统中的硬盘空间分享给同网域的 Windows PC 时，那么就需要额外的加装 <A href="http://linux.vbird.org/linux_server/0370samba.php">SAMBA</A> 这个服务器软件才行。相关的 SAMBA 数据我们会在后面的章节提及。反正不管怎么说，目前 Internet 就是经由 TCP/IP 来进行连接的，而 Linux 本身就支持了 TCP/IP ，所以不需要额外的安装有的没的说！ <BR>　 <BR>至于在 Windows 部分就比较麻烦一点，因为在较大型的企业当中，还需要额外的考虑到 Windows Server 所提供的服务，那么在 Windows Clients 端就得要相应的启动某些通讯协议才行。一般来说，在 Windows Client 系统里面，最常见的两个通讯协议就是 TCP/IP 以及 NetBEUI 这两个通讯协议了。如果您只想让 Windows 与 Linux 能够藉由网络上的芳邻互通有无，那么启动 TCP/IP 也就够了 ( 因为 SAMBA 是藉由 NetBIOS over TCP/IP 来达成数据传输的 ) ，不过，也可以同时启动 NetBEUI 这个通讯协议就是了。相关的说明可以参考 <A href="http://linux.vbird.org/linux_server/0110network_basic.php">网络基础</A> 以及后续的 <A href="http://linux.vbird.org/linux_server/0370samba.php">SAMBA</A> 服务器等章节。</UL>
<HR width="100%">
<A name=methods></A><FONT color=#000099 size=+1>网络联机的方式</FONT> 
<UL>在因特网的世界中，我们几乎都是使用 TCP/IP 协议来作为每一部计算机的网络识别，而这个协议当中，最重要的就是 IP 了！我们在 <A href="http://linux.vbird.org/linux_server/0110network_basic.php">网络基础 </A>当中也曾经提到关于 IP 的类型，IP 基本上就只有 Public IP 与 Private IP 两种，另外，要连上 Internet 就得需要得到 Public IP 才可以。而全球的 Public IP 早就分配好了，在台湾也仅具有一定量的 IP 数而已。所以，您要取得 Public IP 就得需要经过校园网络或者是向 ISP 申请才行。 <BR>　 <BR>由于向 ISP (或校园网络) 申请 Public IP 时， ISP 所提供取得 IP 的方法不同，而分为多样的连上 Internet 的方式，这些方式各有优缺点，我们底下主要谈几个目前台湾地区很常见的取得 IP 上网的方式： <BR>　 
<UL>
<LI><FONT color=#000066>申请固定的 Public IP：</FONT> <BR>直接申请到固定的 Public IP 来上网，例如向 ISP 申请到 ADSL 固定制的 T1 专线、向校园学术网络申请到的固定 IP 等等。以这种方式取得的网络参数都是固定的，例如 IP, Gateway, Network, Broadcast 等等，所以<FONT color=#000066>您可以在自己的机器上面设定好固定的网络参数来上网，而不必再藉由其它的 IP 提供服务器 ( 例如 DHCP 主机、PPP 主机等等 ) 的协助</FONT>。<FONT color=#000066>这种方式取得的固定 IP 用来架设服务器网站是最合适的</FONT>，因为 Public IP 是固定的，所以网站的领域名称系统 ( DNS ) 对应 IP 可以固定，架站上也就比较方便，但是申请的价格当然也就比较贵一点。不过，相对的，因为 IP 是固定的，所以万一<FONT color=#000000>您</FONT>的主机被盯住了，也就很容易常常被攻击，因为 IP 固定啊 ( 跑得了和尚跑不了庙..... ) ！ <BR>　 
<LI><FONT color=#000066>ADSL 拨接制：</FONT> <BR>使用者得到的 Public IP 不一定是固定的，而且 IP 的取得是经由远程 PPP 主机所提供，所以在我们 Client 端的机器上面还需要安装『<FONT color=#000066>拨接软件</FONT>』来先连接到 ISP 的 IP 提供服务器 ( 一般为 PPP 主机 ) 后，才能够取得合法的 IP 取Ｒ话憷此担我们得先透过向 ISP 申请得到<FONT color=#000066>一组联机用密码、账号以及 ISP 的相关网络参数 (最常见者为 DNS 主机的 IP )</FONT>，取得这些参数之后，针对您的主机系统安装拨接软件后，再由拨接软件的功能来连接 ISP 主机以取得合法的 IP 来上网。目前 ADSL 拨接已经相当的常见，费用上也相当的便宜，速度上 ( 至少都有 512/64 Kbps 的速度 ) 也比传统调制解调器拨接 ( 56Kbps ) 要快的很多，只要家里有电话加上离中华电信机房不远，都可以申请这种联机的方式。不过，因为 IP 不一定是固定的，所以不是很适合架设网站。 <BR>　 
<LI><FONT color=#000066>Cable Modem 联机：</FONT> <BR>除了以电话线连接 Internet 的 ADSL 方式外，如果您所居住的区域内有双向缆线 ( 藉由有线电视的缆线 ) 的话，那么也可以申请这种 Cable Modem 的方式。这种方式取得的 IP 同样是藉由远程 ISP 主机所提供的服务 ( DHCP 服务器 ) ，不过因为一般 Client 端主机 ( 不论 Windows 还是 Linux ) 都有提供 DHCP Client 的支持，所以使用 Cable Modem 来上网的设定是相当简单的，并不需要额外的拨接程序。由于 IP 仍是透过 ISP 主机提供的服务来取得，所以 IP 并不一定是固定的，因此上，也不很适合架设网站。以 Cable Modem 来上网时，因为 Cable Modem 的频宽是多人分享的，所以当区域内的 Cable 用户多，而且常常同时间上网时，在上网的时段可能流量比较容易有所限制，但是在流量离峰时段，呵呵！速度会比 ADSL 还快的多～ (所以说有利有弊啊！) <BR>&nbsp;</LI></UL>在目前来说，使用 ADSL 算是比较常见的一种上网方式，不过 ADSL 所提供的流量、IP 是否固定等不同服务所收取的费用也是不同的，所以您必须清楚的了解您的上网需求才行。举例来说，如果您只是一般 Client 用户，只想以 ADSL 来连上 Internet 时，那么申请拨接的 512/64 Kbps 流量也就可以了；如果您的下载量比较大，或者是这条 ADSL 专线还提供区域内的其它 Client 端计算机上网，那么可能就需要较大一点的流量，例如 1.5M/382K bps 的速度；如果您这一条 ADSL 专线是为了企业的网络服务功能，那么甚至应该要考虑申请固定 IP 以及双向 512 Kbps 的传输速度会比较好。不论怎么说，选择适合自己的上网需求即可，不是每个人都需要使用固定的双向 512 Kbps 专线吧！很贵取 <BR>　 <BR>大略了解了 IP 取得的方式之后，接下来当然就是要介绍如何在我们的主机上面设定好上头提到的网络连接方式了。关于 Linux 的设定我们将在下一节进行介绍，底下先谈一谈 LAN 里面 Windows 的固定 IP 的设定方法。</UL>
<HR width="100%">
<A name=windows></A><FONT color=#000099 size=+1>Windows 个人计算机的设定</FONT> 
<UL>我们这本书谈论的是以 Linux 主机提供的服务器为主，所以关于 LAN 里面的 Windows 我都将他假设为 Client ，并且不提供网络服务，所以都先以固定的 Private IP 来设定 Windows 操作系统，如果您的 LAN 有其它的考虑，那么底下的设定就看看就好 ^_^。 <BR>　 <BR>我们在 Windows 系统上所需要的网络参数除了 <FONT color=#000066>IP, netmask, DNS</FONT> 之外，还需要『<FONT color=#000066>工作群组, workgroup</FONT>』与『<FONT color=#000066>计算机名称, Netbios name</FONT>』等等的设定，此外，我们也可以加上 LAN 里面很常见的 NetBIOS ( NetBEUI ) 这个通讯协议取Ｒ虼耍除非<FONT color=#000000>您</FONT>确定<FONT color=#000000>您</FONT>的网域内还有其它的工作站，否则『<FONT color=#000066>请只要安装 TCP/IP 以及 NetBEUI 这两个协议就好了</FONT>！』安装太多反而会有问题呢！底下我们假设<FONT color=#000000>您</FONT>的网络卡都安装好了，然后来介绍一下，我们的内部网络的设定： <BR>　 
<OL>
<LI><FONT face=SimSun color=#000066>PC1：OS( Windows 2000 ), IP( 192.168.1.11 ), netmask( 255.255.255.0 ), DNS( 168.95.1.1 ), gateway( 192.168.1.2 ), 工作群组( birdhouse ), 计算机名称( bird2 )</FONT> 
<LI><FONT face=SimSun color=#000066>PC2：OS( Windows 98 ), IP( 192.168.1.12 ), netmask( 255.255.255.0 ), DNS( 168.95.1.1 ), gateway( 192.168.1.2 ), 工作群组( birdhouse ), 计算机名称( bird1 )</FONT> 
<LI><FONT face=SimSun color=#000066>PC3：OS ( Windows XP ), IP( 192.168.1.13 ), netmask ( 255.255.255.0 ), DNS( 168.95.1.1 ), gateway( 192.168.1.2 ), 工作群组( birdhouse ), 计算机名称( bird3 )</FONT> </LI></OL><FONT face=SimSun color=#3333ff>　</FONT> <BR>
<HR width="100%">
<A name=windows_win2k></A><FONT color=#000099>Windows 2000 的设定方式：</FONT> <BR>　 
<OL>
<LI>开启网络设定内容，鼠标移动到『<FONT color=#000066>网络上的芳邻</FONT>』按下右键选择内容，会出现如下的图示： <BR><IMG height=208 src="53_files/0120win2000_01[1].jpg" width=194 nosave=""><IMG height=204 src="53_files/0120win2000_02[1].jpg" width=191 nosave=""> <BR>　 
<LI>在出现的画面当中选择双击『<FONT color=#000066>区域联机</FONT>』这一项，会出现如下的画面： <BR><IMG height=320 src="53_files/0120win2000_03[1].jpg" width=344 border=0 nosave=""> <BR>　 
<LI>在上面的画面中，选择『<FONT color=#000066>内容</FONT>』进入设定画面，在底下的画面当中，勾选『<FONT color=#000066>联机后，将图标显示在工作列上</FONT>』，则未来联机状态可以在工作列上面看到，以提醒使用者目前的联机情况喔！ <BR><IMG height=400 src="53_files/0120win2000_04[1].jpg" width=367 nosave=""> <BR>　 
<LI>最原始的设定仅只有 TCP/IP 这个协议，其实这也已经足够您日常的网络使用了！此外亦会开启档案分享，所以上面的框框会出现『File and Printer Sharing for Microsoft Networks』！好了，先来设定 TCP/IP 这一项，所以在上图中按下 <FONT color=#000066>Internet Protocol( TCP/IP )</FONT>两下，以设定网络参数。在下面的参数设定当中，输入我们的重要信息，就是刚刚提到的那几个重要网络参数！然后按下『确定』即可！ <BR><IMG height=416 src="53_files/0120win2000_05[1].jpg" width=404 nosave=""> <BR>　 
<LI>按下确定之后，会回到步骤三的画面，这个时候因为要安装通讯协议，所以请按下『安装』那个按钮，在底下会出现这样的画面： <BR><IMG height=255 src="53_files/0120win2000_06[1].jpg" width=306 nosave=""> <BR>　 
<LI>在上面的步骤当中，我们要安装通讯协议，所以请按下『通讯协议』吧！并选择『NetBEUI Protocol 』这个协定！按下『确定』即可！ <BR><IMG height=300 src="53_files/0120win2000_07[1].jpg" width=441 nosave=""> <BR>　 
<LI>最后会得到这样的画面才可以！ <BR><IMG height=400 src="53_files/0120win2000_08[1].jpg" width=367 nosave=""> <BR>　 
<LI>将上头的数据关闭之后，到桌面上，在『<FONT color=#000066>我的计算机</FONT>』，按下右键，选择内容，并勾选『<FONT color=#000066>网络识别</FONT>』那一个页面，会出现如下的画面： <BR><IMG height=236 src="53_files/0120win2000_09[1].jpg" width=192 nosave=""> <BR>　 <BR><IMG height=436 src="53_files/0120win2000_10[1].jpg" width=410 nosave=""> <BR>　 
<LI>这个时候，请选择『内容』这一项！不要选择『网络识别』呦！然后将<FONT color=#000000>您</FONT>的计算机名称改为我们刚刚设定的『bird1』，并且修改一下<FONT color=#000000>您的工</FONT>作群组成为『 birdhouse 』 ( 大小写不要紧！ )： <BR><IMG height=357 src="53_files/0120win2000_11[1].jpg" width=327 nosave=""> <BR>　 
<LI>按下『确定』之后，选择『重新开机』来使设定成功吧！ </LI></OL>　 <BR>
<HR width="100%">
<A name=windows_win98></A><FONT color=#000099>Windows 98 的设定方式：</FONT></UL>
<UL>
<OL>
<LI>首先，同样的，请在<FONT color=#000000>您</FONT>的『网络上的芳邻』上面，按下『右键』选择『内容』，会出现如下的画面： <BR><IMG height=219 src="53_files/0120win098_01[1].jpg" width=189 nosave=""><IMG height=427 src="53_files/0120win098_02[1].jpg" width=367 nosave=""> <BR>　 
<LI>在预设的情况之中，大概或者会有两三个协议吧！无论如何，这里假设仅有『一个实体网络卡』就是上面那个 D-Link 的图标，还有一个通讯协议，也就是 TCP/IP 的协议！好了，我们现在来安装一下 NetBEUI 吧！此外，如果有出现一个 IPX/SPX 的协议时，请自行将他移除吧！在上面的图示当中按下『新增』项目： <BR><IMG height=184 src="53_files/0120win098_03[1].jpg" width=395 nosave=""> <BR>　 
<LI>选择『通讯协议』喔！并且挑选『 Microsoft 』及『 NetBEUI 』这两个，并按下『确定』即可！ <BR><IMG height=300 src="53_files/0120win098_04[1].jpg" width=441 nosave=""> <BR>　 
<LI>好了，回到『步骤一』那个画面中，按下『档案及打印分享』项目，在底下的画面中，两个全部都给他勾选啦！ <BR><IMG height=156 src="53_files/0120win098_05[1].jpg" width=336 nosave=""> <BR>　 
<LI>再来，回到原始的画面中，就会有如下的情况啦！如果<FONT color=#000000>您</FONT>有『拨号网络适配器』时，又<FONT color=#000000>您</FONT>不要使用拨接，那么就将『拨号网络适配器』拿掉吧！所以最后就只有上面这些咚咚！ <BR><IMG height=427 src="53_files/0120win098_06[1].jpg" width=367 nosave=""> <BR>　 
<LI>开始来设定我们的网络组件了，请按下上图的『 TCP/IP 』出现如下的画面，将我们的 IP 及子屏蔽网络给他填进去！ <BR><IMG height=406 src="53_files/0120win098_08[1].jpg" width=373 nosave=""> <BR>　 
<LI>再来继续设定通讯闸( Gateway )： <BR><IMG height=406 src="53_files/0120win098_09[1].jpg" width=373 nosave=""> <BR>　 
<LI>再来则是设定『DNS组态』一项！如果不确定的话，可以直接以我的参数来设定呢！ <BR><IMG height=406 src="53_files/0120win098_10[1].jpg" width=373 nosave=""> <BR>　 
<LI>好了，这样 TCP/IP 设定就完成了，接着下来，请选择原先画面中的『识别数据』页面，然后将我们的信息填进去吧！ <BR><IMG height=427 src="53_files/0120win098_07[1].jpg" width=367 nosave=""> <BR>&nbsp;</LI></OL>过程之中可能会要<FONT color=#000000>您</FONT>的 Windows 98 原版光盘，请自行安装，然后重新开机，嘿嘿！成功！ <BR>　 <BR>
<HR width="100%">
<A name=windows_winxp></A><FONT color=#000099>Windows XP 的设定方式：</FONT> <BR>　 
<OL>
<LI>Windows XP 的设定方式与 Windows 2000 差不多说～先到『<FONT color=#000066>开始</FONT>』==&gt;『<FONT color=#000066>控制台</FONT>』==&gt;『<FONT color=#000066>网络联机</FONT>』==&gt;选择『<FONT color=#000066>区域联机</FONT>』该项后，会出现如下图示： <BR><IMG height=329 src="53_files/winxp-01[1].jpg" width=344 nosave=""> <BR>　 
<LI>上面画面当中选择『<FONT color=#000066>内容</FONT>』进入设定画面中： <BR><IMG height=412 src="53_files/winxp-02[1].jpg" width=367 nosave=""> <BR>　 
<LI>接下来，选择『<FONT color=#000066>联机后，将图标显示在通知区域内</FONT>』，并且双击『<FONT color=#000066>Internet Protocol (TCP/IP)</FONT>』该项目： <BR><IMG height=416 src="53_files/winxp-03[1].jpg" width=404 nosave=""> <BR>　 
<LI>上面的设定不需要再谈了吧？！请填入您的网络参数，并且按下确定即可！好了，设定完成之后，再来需要编辑您的网络识别喔！选择『<FONT color=#000066>开始</FONT>』==&gt;『<FONT color=#000066>控制台</FONT>』==&gt;双击『<FONT color=#000066>系统</FONT>』之后出现下图： <BR><IMG height=451 src="53_files/winxp-04[1].jpg" width=419 nosave=""> <BR>　 
<LI>在上面的图标当中，如果网络识别是不对的，那么就可以按下『<FONT color=#000066>变更</FONT>』来重新输入，如下所示： <BR><IMG height=384 src="53_files/winxp-05[1].jpg" width=327 nosave=""> <BR>　 <BR>输入正确之后，只要重新开机，那么就可以使用局域网络！ <BR>&nbsp;</LI></OL>基本上， Windows 的网络参数设定是相当的简单的！我这里仅介绍修改 IP 与相关网络参数的方式而已。未来如果还需要搭配 DHCP 主机、NAT 主机等等服务器的设定时，会再次的提醒使用者 Windows 的设定信息喔！尤其是 SAMBA 主机的设定中， Windows 的网络识别就显的相当的重要呢！</UL>
<HR width="100%">
<A name=ex></A><FONT color=#000099 size=+1>课后练习：</FONT> 
<UL>
<LI>幻想自己是一个私人公司的老板，员工有 20 人，如果我想要让公司的员工都可以连上 Internet ，并且控管每个员工的对外联机，请问我的硬件联机应该怎么配置比较好？另外，应该申请的线路频宽应该多大较佳？而我的内部网域 ( IP, Netmask, ....) 又该如何设定比较好？ 
<LI>承上题，假如我的私有网域内有较大的网络流量，那么我的网络媒体应该怎么选择较佳？ <BR><A href="http://linux.vbird.org/linux_server/1000results.php#0120intranet">前往参考用解答</A></LI></UL>
<CENTER><FONT face=SimSun color=#3333ff size=+1><A href="http://linux.vbird.org/linux_server/0120intranet.php" target=_self>局域网络架构简介</A></FONT></CENTER>
<HR width="100%">
<FONT face=SimSun color=#000066 size=-1>2002/07/22：初次完成了局域网络架设的基本架构</FONT> <BR><FONT face=SimSun color=#000066 size=-1>2003/08/17：将整个文章重新修订，移除一些已经在<A href="http://linux.vbird.org/linux_server/0110network_basic.php">网络基础</A>里面谈过的内容，并且新增了表头的说明。</FONT> <BR><FONT face=SimSun color=#000066 size=-1>2003/08/20：加入课后练习了。</FONT> <BR><FONT face=SimSun color=#000066 size=-1>2003/09/19：加入<A href="http://linux.vbird.org/linux_server/1000results.php#0120intranet">参考用解答</A>咯！</FONT> <BR>
<HR width="100%">
<FONT face=SimSun color=#3333ff size=-1>2002/07/21 以来统计人数</FONT> <BR><IMG height=15 src="53_files/Count[13].gif" width=60 align=middle nosave="">
<HR width="100%">
 
<CENTER><A href="http://linux.vbird.org/" target=_top><IMG height=25 src="61_files/VBirdTitle2[10].jpg" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/linux_basic"><IMG height=25 src="39_files/icon_system[3].gif" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/linux_server"><IMG height=25 src="55_files/icon_server[13].gif" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/linux_security"><IMG height=25 src="71_files/icon_security[10].jpg" width=90 border=0 nosave=""></A> <A href="http://phorum.vbird.org/" target=_blank><IMG height=25 src="60_files/icon_forums[10].gif" width=90 border=0 nosave=""></A> <A href="http://linux.vbird.org/adsl"><IMG height=25 src="50_files/icon_adsl[13].gif" width=90 border=0 nosave=""></A> <BR><FONT color=#000066 size=-1>Designed by <A href="mailto:vbird@tsai.adsldns.org">VBird</A> during 2001-2004.&nbsp; Aerosol Lab.</FONT></CENTER></BODY>