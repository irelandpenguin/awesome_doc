<HTML>
<HEAD>
<META http-equiv="content-type" content="text/html; charset=gb2312">
<META name="man2html Chinese version">
<TITLE>create_module</TITLE>
</HEAD>
<BODY>
<H1>create_module</H1>
Section: System Calls (2)<BR>Updated: <BR>Index</A>

<H2>NAME</H2>

create_module - 生成一条可加载模块记录.

<H2>总览</H2>

<B>#include &lt;linux/module.h</A>&gt;</B>

<P>
caddr_t create_module(const char *name, size_t size);

<H2>描述</H2>

create_module试图生成一条可加载模块的记录并保留用来容纳模块的内核空间内存.该
系统调用只对超级用户开放.

<H2>返回值</H2>

成功时返回模块驻留的内核空间地址,错误时返回-1,errno被相应设置.

<H2>错误</H2>

<DL COMPACT>
<DT>EPERM <DD>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;用户非超级用户.
<DT>EEXIST <DD>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;相同名字的模块已经存在.
<DT>EINVAL<DD>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;要求的大小即使对模块的头信息来说也太小.
<DT>ENOMEM <DD>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;内核无法给模块分配足够的连续的内存块.
<DT>EFAULT <DD>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;越出了程序可访问的地址空间.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<P>
</DL>

<H2><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;雷勇&nbsp;&lt;nsinit@263.net</A>&gt;</H2>

<P>

<HR>
<H2>Index</H2>
<DL>
<DT>NAME</A><DD>
<DT>总览</A><DD>
<DT>描述</A><DD>
<DT>返回值</A><DD>
<DT>错误</A><DD>
<DT><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;雷勇&nbsp;&lt;nsinit@263.net&gt;</A><DD>
</DL>
<HR>
This document was created by
man2html</A>,
using the manual pages.<BR>
Time:  GMT, January 14, 2004
</BODY>
</HTML>
