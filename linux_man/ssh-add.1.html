<HTML>
<HEAD>
<META http-equiv="content-type" content="text/html; charset=gb2312">
<META name="man2html Chinese version">
<TITLE>SSH-ADD</TITLE>
</HEAD>
<BODY>
<H1>SSH-ADD</H1>
Section: User Commands  (1)<BR>Index</A>

<H2>NAME</H2>



<B>ssh-add</B>

 - 向认证代理添加 RSA 或 DSA 身份数据


<H2>总览 (SYNOPSIS)</H2>

<B>ssh-add</B>

[-<B>lLdDx
</B>

]

[-<B>t </B><I>life</I>



]

[<I>file ...</I>

]

<B>ssh-add</B>

-<B>s </B><I>reader</I>



<B>ssh-add</B>

-<B>e </B><I>reader</I>




<H2>描述 (DESCRIPTION)</H2>

<B></B>


向认证代理 (authentication agent) ,
ssh-agent1


, 添加 RSA 或 DSA 身份识别数据. 无参数运行该程序时, 它将
$HOME/.ssh/id_rsa

 
$HOME/.ssh/id_dsa

和
$HOME/.ssh/identity 

文件的内容送往认证代理. 可以在命令行上指定不同的文件名. 
如果文件需要用密语(passphrase)访问,
<B></B>


会提示用户输入, 然后从用户的 tty 终端读取密语.
如果给出多个身份文件,
<B></B>


将重试最后一条密语.
<P>

要使
<B></B>


正常工作, 必须运行认证代理, 而且是当前进程的祖先.
<P>

可用的选项有:
<DL COMPACT>
<P>

<DT><B>-l</B>


<DD>
列出认证代理目前代表的身份的指纹.
<DT><B>-L</B>


<DD>
列出认证代理目前代表的身份的公钥参数.
<DT><B>-d</B>


<DD>
和添加身份相反, 从认证代理上删除这个身份数据.
<DT><B>-D</B>


<DD>
从认证代理上删除所有身份数据.
<DT><B>-x</B>


<DD>
用口令锁住代理.
<DT><B>-X</B>


<DD>
把代理解锁.
<DT><B>-t </B><I>life</I>




<DD>
向代理添加身份的时候设置最大生命周期. 生命周期以秒为单位, 也可以用
sshd_config5


中规定的时间格式.
<DT><B>-c</B>


<DD>
身份在认证前先要被确认. 确认工作由后面提到的
<B>SSH_ASKPASS</B>

程序进行. 确认成功后,
<B>SSH_ASKPASS</B>

返回状态字 0 给调用者, 而不用传递文本数据.
<DT><B>-s </B><I>reader</I>




<DD>
添加智能卡
<I>reader </I>

里的密钥.
<DT><B>-e </B><I>reader</I>




<DD>
删除智能卡
<I>reader </I>

里的密钥.
</DL>
<P>


<H2>文件 (FILES)</H2>

<DL COMPACT>
<P>

<DT><B>$HOME/.ssh/identity

</B>
<DD>
内含用户的协议第一版的 RAS 身份数据.
<DT><B>$HOME/.ssh/id_dsa

</B>
<DD>
内含用户的协议第二版的 DSA 身份数据.
<DT><B>$HOME/.ssh/id_rsa

</B>
<DD>
内含用户的协议第二版的 RAS 身份数据.
</DL>
<P>

<P>

身份文件只许它的用户读取, 其他用户不允许访问. 注意, 如果身份文件
能够被其他用户访问,
<B></B>


将忽略这个文件.

<H2>环境 (ENVIRONMENT)</H2>

<DL COMPACT>
<P>

<DT><B>DISPLAY 和 SSH_ASKPASS</B>


<DD>
如果
<B></B>


需要密语, 当它在终端上运行的时候, 它会从当前终端上读取这个密语. 如果
<B></B>


没有和终端关联, 但是设置了
<B>DISPLAY</B>

和
<B>SSH_ASKPASS</B>

环境变量, 它就执行
<B>SSH_ASKPASS</B>

指定的程序, 打开一个 X11 窗口读取密语. 从
.Xsession

或类似的描述文件调用
<B></B>


时, 这个功能非常有用. (注意, 某些机器上可能先要把输入重定向到
/dev/null

才能工作.)
<DT><B>SSH_AUTH_SOCK</B>


<DD>
标明一个 UNIX 域 socket 的路径, 用于和代理通信.
</DL>
<P>


<H2>诊断 (DIAGNOSTICS)</H2>

成功执行的返回状态为 0, 命令失败则返回 1, 如果
<B></B>


无法联系到认证代理就返回 2.

<H2>作者 (AUTHORS)</H2>

OpenSSH 源自最初 Tatu Ylonen 发表的自由 ssh 1.2.12.
Aaron Campbell, Bob Beck, Markus Friedl, Niels Provos,
Theo de Raadt 和 Dug Song 消除了许多 BUGS, 增加新的特征, 从而创建了 OpenSSH.
Markus Friedl 贡献了对 SSH 协议1.5版和2.0版的支持.

<H2>另见 (SEE ALSO)</H2>

ssh</A>(1),


ssh-agent1,


ssh-keygen1,


sshd</A>(8)



<H2>[中文版维护人]</H2>

徐明 &lt;xuming@users.sourceforge.net</A>&gt;

<H2>[中文版最新更新]</H2>

2004/02/8

<H2>《中国Linux论坛man手册页翻译计划》</H2>

http://cmpp.linuxforum.net</A>
<P>
<P>
<P>

<HR>
<H2>Index</H2>
<DL>
<DT>NAME</A><DD>
<DT>总览 (SYNOPSIS)</A><DD>
<DT>描述 (DESCRIPTION)</A><DD>
<DT>文件 (FILES)</A><DD>
<DT>环境 (ENVIRONMENT)</A><DD>
<DT>诊断 (DIAGNOSTICS)</A><DD>
<DT>作者 (AUTHORS)</A><DD>
<DT>另见 (SEE ALSO)</A><DD>
<DT>[中文版维护人]</A><DD>
<DT>[中文版最新更新]</A><DD>
<DT>《中国Linux论坛man手册页翻译计划》</A><DD>
</DL>
<HR>
This document was created by
man2html</A>,
using the manual pages.<BR>
Time: 06:26:07 GMT, July 01, 2004
</BODY>
</HTML>
