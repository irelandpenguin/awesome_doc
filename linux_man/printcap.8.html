<HTML>
<HEAD>
<META http-equiv="content-type" content="text/html; charset=gb2312">
<META name="man2html Chinese version">
<TITLE>PRINTCAP</TITLE>
</HEAD>
<BODY>
<H1>PRINTCAP</H1>
Section: May 10, 1991 (5)<BR>Updated: UNIX Programmer's Manual<BR>Index</A>

<H2>NAME</H2>

<B>printcap - 打印机相容性数据库</B>


<H2>总览 SYNOPSIS</H2>

<B>printcap</B>


<H2>描述 DESCRIPTION</H2>

<B>Printcap </B>

是 
<B>termcap</A>(5) </B>

的伟, 用砻枋 line printers. 用到 spool 系
yr, 一定去⒖ printcap @n. 允SB地加入及h除印表C. 在@Y料
熘械拿恳欢⑹龃表一台印表C. 
This data base may not be substituted for, as is possible for termcap, 
because it may allow accounting to be bypassed.
<P>

AO的印表C是 lp, m然h境 PRINTER 可能於(override)此. 每一
用到 spool 的w都支援 -p 的x, 用以x裼”C. 如果想知道如何橐
台印表CO定Y料的, ⒄ 4.3 BSD Line Printer Spooler Manual.

<H2>相容性 CAPABILITIES</H2>

根 
<B>termcap</A>(5)</B>

n案出的描述.
<PRE>
     Name       Type      Description
     af         str       NULL                   name of accounting file
     br         num       none                   if lp is a tty, set the baud
                                                 rate (ioctl</A>(2) call)
     cf         str       NULL                   cifplot data filter
     df         str       NULL                   tex data filter (DVI format)
     fc         num       0                      if lp is a tty, clear flag 
                                                 bits (sgtty.h)
     ff         str       `                   string to send for a form
                                                 feed
     fo         bool      false                  print a form feed when 
                                                 device is opened
     fs         num       0                      like `fc' but set bits
     gf         str       NULL                   graph data filter (plot</A>(3) 
                                                 format)
     hl         bool      false                  print the burst header page
                                                 last
     ic         bool      false                  driver supports(non standard)
                                                 ioctl to indent printout
     if         str       NULL                   name of text filter which 
                                                 does accounting
     lf         str       /dev/console           error logging file name
     lo         str       lock                   name of lock file
     lp         str       /dev/lp                device name to open for 
                                                 output
     mx         num       1000                   maximum file size (in BUFSIZ
                                                 blocks), zero = unlimited
     nd         str       NULL                   next directory for list of
                                                 queues (unimplemented)
     nf         str       NULL                   ditroff data filter (device
                                                 independent troff)
     of         str       NULL                   name of output filtering
                                                 program
     pc         num       200                    price per foot or page in
                                                 hundredths of cents
     pl         num       66                     page length (in lines)
     pw         num       132                    page width (in characters)
     px         num       0                      page width in pixels
                                                 (horizontal)
     py         num       0                      page length in pixels 
                                                 (vertical)
     rf         str       NULL                   filter for printing FORTRAN
                                                 style text files
     rg         str       NULL                   restricted group. Only
                                              members of group allowed access
     rm         str       NULL                   machine name for remote
                                                 printer
     rp         str       ``lp''                 remote printer name argument
     rs         bool      false                  restrict remote users to
                                                 those with local accounts
     rw         bool      false                  open the printer device for
                                                 reading and writing
     sb         bool      false                  short banner (one line only)
     sc         bool      false                  suppress multiple copies
     sd         str       /var/spool/lpd         spool directory
     sf         bool      false                  suppress form feeds
     sh         bool      false                  suppress printing of burst
                                                 page header
     st         str       status                 status file name
     tf         str       NULL                   troff data filter (cat
                                                 phototypesetter)
     tr         str       NULL                   trailer string to print when
                                                 queue empties
     vf         str       NULL                   raster image filter
</PRE>

<P>

如果本地端印表C(local line printer) driver 支援 indentation 的, daemon 
知道如何去用它.

<H2>过滤器 FILTERS</H2>

<B>lpd</A>(8) </B>

守护进程造出一^V的管 (pipeline of filters) 硖理各不同印
表C的n案. ^V器⒁勒掌磉x⒑握咚偷 
<B>lpr</A>(1) . </B>

管的O定值有:
<PRE>
           p            pr | if regular text + pr</A>(1)
           none         If         regular text
           c            cf         cifplot
           d            df         DVI (tex)
           g            gf         plot</A>(3)
           n            nf         ditroff
           f            rf         Fortran
           t            tf         troff
           v            vf         raster image
</PRE>

<P>

if ^V器的用法是:

<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;[-c]&nbsp;-wwidth&nbsp;-llength&nbsp;-iindent&nbsp;-n&nbsp;login&nbsp;-h&nbsp;host&nbsp;acct-file

<P>

<I>-c</I> @旗酥挥性 -l 旗擞辛性 lpr 中r才可忽略. width 和 length 定x
了 page 的L和 (from pw and pl respectively). -n 和 -h 可指定列印工作碛姓
的 login name 和 host name. Acct-file ⒑雎 printcap 中的描述. 
<P>

If no if is specified, of is used instead, with the distinction that of
is opened only once, while if is opened for every individual job.  Thus,
if is better suited to performing accounting.  The of is only given the
width and length flags.
<P>

其它^V器的呼叫用法如下:

<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter&nbsp;-xwidth&nbsp;-ylength&nbsp;-n&nbsp;login&nbsp;-h&nbsp;host&nbsp;acct-file

<P>

如果要用 pixels 挝矶ㄩL的, 用 px 和 py @二.
所有的^V器都由 stdin 入n案, stdout 出到印表C, 用 stderr 或 
<B>syslog</A>(3) </B>

碛(log), 而且不忽略 SIGINT. 

<H2>日志 LOGGING</H2>

Error messages generated by the line printer programs themselves (that
is, the lp*  programs) are logged by syslog</A>(3) using the LPR facility.
Messages printed on stderr of one of the filters are sent to the corre-
sponding lf file.  The filters may, of course, use syslog themselves.
<P>

Error messages sent to the console have a carriage return and a line feed
appended to them, rather than just a line feed.

</BODY>
</HTML>
